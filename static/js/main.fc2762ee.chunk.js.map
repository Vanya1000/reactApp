{"version":3,"sources":["components/Profile/ProfileInfo/ProfileInfo.module.css","components/Navbar/FriendsBlock/FriendsItem/FriendsItem.module.css","components/Header/Header.module.css","components/Notes/NotesPost/NotesPost.module.css","components/common/Preloader/Preloader.module.css","components/Profile/Profile.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Dialogs/DialogItem/DialogItem.module.css","components/Dialogs/Message/Message.module.css","reportWebVitals.js","api/api.js","redux/auth-reducer.js","redux/appReducer.js","redux/dialogsReducer.js","redux/noteReducer.js","redux/profileReducer.js","redux/sidebarReducer.js","redux/usersReducer.js","redux/redux-store.js","components/Navbar/FriendsBlock/FriendsItem/FriendsItem.jsx","components/Navbar/FriendsBlock/FriendsBlock.jsx","components/Navbar/FriendsBlock/FriendsBlockContainer.jsx","components/Navbar/Navbar.jsx","components/Settings/Settings.jsx","components/News/News.jsx","components/Music/Music.jsx","components/Notes/NotesPost/NotesPost.jsx","components/Notes/Notes.jsx","components/Notes/NotesContainer.jsx","assets/images/user.png","components/Users/User.jsx","components/Users/Users.jsx","assets/images/Circle-Loading.svg","components/common/Preloader/Preloader.js","HOC/withAuthRedirect.js","redux/users-selectors.js","components/Users/UsersContainer.jsx","components/Profile/ProfileInfo/ProfileStatusWithHoocs.jsx","components/Profile/ProfileInfo/ProfileDataForm.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/Message/Message.jsx","components/Dialogs/Dialogs.jsx","components/Dialogs/DialogsContainer.jsx","App.js","HOC/withSuspense.js","index.js","components/Users/User.module.css","components/Navbar/Navbar.module.css","components/Notes/Notes.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Login/Login.module.css","components/Dialogs/Dialogs.module.css","components/Navbar/FriendsBlock/FriendsBlock.module.css","components/common/paginator/Paginator.module.css"],"names":["module","exports","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","response","data","setFollow","id","post","setUnfollow","delete","profileAPI","userId","newStatusText","put","status","photoFile","formData","FormData","append","profile","authAPI","email","password","rememberMe","captcha","securityAPI","SET_USER_DATA","SET_ERROR_WRONG","GET_CHAPTCHA_URL_SUCCESS","initialState","login","isAuth","isWrong","captchaUrl","setAuthUserData","type","payload","getCaptchaUrlSuccess","setErrorWrong","getAuthUserData","dispatch","a","resultCode","getCaptchaUrl","url","authReducer","state","action","INITIALIZED_SUCCESS","initialized","appReducer","ADD_MESSAGE","dialogs","name","messages","message","dialogsReducer","newMessage","ADD_NOTE","UPDATE_NEW_NOTE_TEXT","note","newNoteText","noteReducer","newText","ADD_POST","SET_USER_PROFILE","SET_STATUS_TEXT","DELETE_POST","SAVE_PHOTO_SUCCESS","posts","likesCount","setUserProfile","getUserProfileThunkCreator","setNewMessageTextStatus","statusText","profileReducer","newPost","photos","filter","p","postId","friends","sidebarReducer","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_PAGE_SIZE","SET_COUNT_ALL_USERS","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalUserCount","isFetching","followingInProgress","followSucsess","unfollowSucsess","setUsers","setCurrentPage","setPageSize","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","apiMethod","actionCreator","usersReducer","map","u","followed","countAllUsers","reducers","combineReducers","profilePage","dialogsPage","sidebar","usersPage","app","auth","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","FriendsItem","props","className","s","itemFriends","src","FriendsBlock","friendsItem","elementF","title","blockFriends","FriendsBlockContainer","connect","setActive","isActive","activeLink","Navbar","nav","item","to","Settings","News","Music","NotesPost","notes__post","Notes","noteItem","notes","notesItem","newNotesElement","React","createRef","notes__wrapper","notes__title","notes__visualBlock","notes__sendBlock","ref","onChange","textInputTextarea","current","value","updateNotesText","onClick","addNotes","NotesContainer","updateNewNoteTextActionCreator","User","user","unfollow","follow","user__wrapper","user__leftBlock","user__foto","small","userPhoto","alt","user__button","disabled","user__rightBlock","user__name","user__status","user__location","user__locationCity","user__locationCountry","Users","onPageChanged","showQuickJumper","defaultCurrent","total","defaultPageSize","pageNumber","onShowSizeChange","onPageSizeChange","Preloader","wpapperGif","preloader","mapStateToProps","withAuthRedirect","Component","RedirectComponent","this","getUsersSuper","createSelector","getPageSize","getTotalUserCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","getUsersOnPagechangedThunkCreator","size","getUsersOnPageSize","bind","items","totalCount","updateTextStatusThuncCreator","useState","editMode","setEditMode","setStatus","useEffect","e","currentTarget","autoFocus","onBlur","ProfileDataForm","useForm","register","handleSubmit","setValue","reset","formState","errors","fullName","aboutMe","lookingForAJob","lookingForAJobDescription","Object","keys","contacts","forEach","key","onSubmit","saveProfile","goToExitEditMode","ProfileData","isOwner","goToEditMode","facebook","website","vk","twitter","instagram","youtube","github","mainLink","ProfileInfo","discriptionBlock","large","target","files","length","savePhoto","ProfileStatusWithHoocs","Post","MyPosts","memo","console","log","postsElement","postsBlock","messageBlock","AddPostForm","mode","addPost","formBlock","error","required","maxLength","style","color","MyPostsContainer","newPostText","Profile","pad","ProfileContainer","match","params","getStatusThuncCreator","refreshProfile","prevProps","prevState","snapshot","IsAuth","file","getState","withRouter","Header","header","login__block","icon","PoweroffOutlined","logout","HeaderContainer","Loginform","onSubmitCall","control","rules","render","field","placeholder","Password","defaultValue","htmlType","loginTC","DialogItem","nameChat","Message","AddMessageForm","addMessage","Dialogs","dialogsElements","d","messagesElements","m","dialogs__item","dialogInput","addMessageActionCreator","App","initializeApp","path","DialogsContainer","fallback","promise","Promise","all","ReactDOM","StrictMode","basename","process","document","getElementById"],"mappings":"2FACAA,EAAOC,QAAU,CAAC,MAAQ,2BAA2B,iBAAmB,wC,oBCAxED,EAAOC,QAAU,CAAC,YAAc,mC,oBCAhCD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,aAAe,+B,oBCAjED,EAAOC,QAAU,CAAC,YAAc,iC,oBCAhCD,EAAOC,QAAU,CAAC,WAAa,gC,oBCA/BD,EAAOC,QAAU,CAAC,IAAM,uB,oBCAxBD,EAAOC,QAAU,CAAC,KAAO,qB,oBCAzBD,EAAOC,QAAU,CAAC,SAAW,+B,oBCA7BD,EAAOC,QAAU,CAAC,QAAU,2B,sJCD5B,IAYeC,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,O,iCCJRQ,EAAWC,SAAa,CAC7BC,iBAAiB,EACjBC,QAAQ,gDACRC,QAAS,CACR,UAAW,0CAICC,EAAW,CACxBC,SADwB,SACdC,EAAaC,GACtB,OAAOR,EAASS,IAAT,qBAA2BF,EAA3B,kBAAgDC,IACrDd,MAAK,SAAAgB,GACL,OAAOA,EAASC,SAGnBC,UAPwB,SAOdC,GACT,OAAOb,EAASc,KAAT,iBAAwBD,KAEhCE,YAVwB,SAUZF,GACX,OAAOb,EAASgB,OAAT,iBAA0BH,MAKtBI,EAAa,SACVC,GACd,OAAOlB,EAASS,IAAT,kBAAwBS,KAFpBD,EAAa,SAIfJ,GACT,OAAOb,EAASS,IAAT,yBAA+BI,KAL3BI,EAAa,SAOZE,GACZ,OAAOnB,EAASoB,IAAT,iBAA+B,CAAEC,OAAQF,KARrCF,EAAa,SAUfK,GACT,IAAMC,EAAW,IAAIC,SAErB,OADAD,EAASE,OAAO,QAASH,GAClBtB,EAASoB,IAAT,gBAA8BG,EAAU,CAC9C,eAAgB,yBAdNN,EAAa,SAiBbS,GACX,OAAO1B,EAASoB,IAAT,UAAwBM,IAKpBC,EAAU,WAErB,OAAO3B,EAASS,IAAI,YAFTkB,EAAU,SAIhBC,EAAOC,GAA+C,IAArCC,EAAoC,wDAAhBC,EAAgB,uDAAN,KACpD,OAAO/B,EAASc,KAAK,aAAc,CAAEc,QAAOC,WAAUC,aAAYC,aALvDJ,EAAU,WAQrB,OAAO3B,EAASgB,OAAO,eAIZgB,EAAc,WAEzB,OAAOhC,EAASS,IAAI,6B,wBC/DhBwB,EAAgB,qBAChBC,EAAkB,uBAClBC,EAA2B,gCAE7BC,EAAe,CAClBvB,GAAI,KACJwB,MAAO,KACPT,MAAO,KACPU,QAAQ,EACRC,QAAS,KACTC,WAAY,MAyBAC,EAAkB,SAAC5B,EAAIwB,EAAOT,EAAOU,GAAnB,MAC7B,CAAEI,KAAMT,EAAeU,QAAS,CAAE9B,KAAIwB,QAAOT,QAAOU,YAEzCM,EAAuB,SAACJ,GAAD,MAClC,CAAEE,KAAMP,EAA0BQ,QAASH,IAEhCK,EAAgB,SAACN,GAAD,MAC3B,CAAEG,KAAMR,EAAiBvB,KAAM4B,IAEpBO,EAAkB,yDAAM,WAAOC,GAAP,uBAAAC,EAAA,sEACfrB,IADe,OAEH,KAD7BjB,EADgC,QAEvBC,KAAKsC,aAAmB,EACTvC,EAASC,KAAKA,KAAnCE,EAD6B,EAC7BA,GAAIwB,EADyB,EACzBA,MAAOT,EADkB,EAClBA,MACjBmB,EAASN,EAAgB5B,EAAIwB,EAAOT,GAAO,KAJR,2CAAN,uDAsBlBsB,EAAgB,yDAAM,WAAOH,GAAP,iBAAAC,EAAA,sEACbhB,IADa,OAC9BtB,EAD8B,OAE5B8B,EAAa9B,EAASC,KAAKwC,IACjCJ,EAASH,EAAqBJ,IAHI,2CAAN,uDAadY,EAlEK,WAAmC,IAAlCC,EAAiC,uDAAzBjB,EAAckB,EAAW,uCACrD,OAAQA,EAAOZ,MACd,KAAKT,EACJ,OAAO,2BACHoB,GACAC,EAAOX,SAEZ,KAAKT,EACJ,OAAO,2BACHmB,GADJ,IAECd,QAASe,EAAO3C,OAElB,KAAKwB,EACJ,OAAO,2BACHkB,GADJ,IAECb,WAAYc,EAAOX,UAErB,QACC,OAAOU,IC9BJE,EAAsB,qBAExBnB,EAAe,CAClBoB,aAAa,GA4BCC,EAzBI,WAAmC,IAAlCJ,EAAiC,uDAAzBjB,EAAckB,EAAW,uCACpD,OAAQA,EAAOZ,OACTa,EACG,2BACHF,GADJ,IAECG,aAAa,IAGPH,G,QChBJK,EAAc,cAGhBtB,EAAe,CAClBuB,QAAS,CACR,CAAE9C,GAAI,EAAG+C,KAAM,QACf,CAAE/C,GAAI,EAAG+C,KAAM,QACf,CAAE/C,GAAI,EAAG+C,KAAM,SACf,CAAE/C,GAAI,EAAG+C,KAAM,SAEhBC,SAAU,CACT,CAAEhD,GAAI,EAAGiD,QAAS,kBAClB,CAAEjD,GAAI,EAAGiD,QAAS,QAClB,CAAEjD,GAAI,EAAGiD,QAAS,kBAClB,CAAEjD,GAAI,EAAGiD,QAAS,oBAoBLC,EAhBQ,WAAmC,IAAlCV,EAAiC,uDAAzBjB,EAAckB,EAAW,uCACxD,OAAQA,EAAOZ,OACTgB,EACG,2BACHL,GADJ,IAECQ,SAAS,GAAD,mBAAMR,EAAMQ,UAAZ,CAAsB,CAAEhD,GAAI,EAAGiD,QAASR,EAAOU,gBAGjDX,GC1BJY,EAAW,WACXC,EAAuB,4BAEzB9B,EAAe,CAClB+B,KAAM,CACL,CAAEtD,GAAI,EAAGsD,KAAM,cACf,CAAEtD,GAAI,EAAGsD,KAAM,eACf,CAAEtD,GAAI,EAAGsD,KAAM,kBACf,CAAEtD,GAAI,EAAGsD,KAAM,mBAEhBC,YAAa,IA2BCC,EAxBK,WAAmC,IAAlChB,EAAiC,uDAAzBjB,EAAckB,EAAW,uCACrD,OAAQA,EAAOZ,MACd,KAAKuB,EACJ,OAAO,2BACHZ,GADJ,IAECc,KAAK,GAAD,mBAAMd,EAAMc,MAAZ,CAAkB,CAAEtD,GAAI,EAAGsD,KAAMd,EAAMe,eAC3CA,YAAa,KAGf,KAAKF,EACJ,OAAO,2BACHb,GADJ,IAECe,YAAad,EAAOgB,UAGtB,QACC,OAAOjB,IC3BJkB,EAAW,mBACXC,EAAmB,2BACnBC,EAAkB,0BAClBC,EAAc,sBACdC,EAAqB,6BAEvBvC,EAAe,CAClBwC,MAAO,CACN,CAAE/D,GAAI,EAAGiD,QAAS,iBAAkBe,WAAY,IAChD,CAAEhE,GAAI,EAAGiD,QAAS,qBAAsBe,WAAY,IAErDnD,QAAS,KACTP,cAAe,SA2CH2D,EAAiB,SAACpD,GAAD,MAC5B,CAAEgB,KAAM8B,EAAkB9C,YAKfqD,EAA6B,SAAC7D,GAAD,8CAAY,WAAO6B,GAAP,eAAAC,EAAA,sEAChC/B,EAA0BC,GADM,OACjDR,EADiD,OAErDqC,EAAS+B,EAAepE,EAASC,OAFoB,2CAAZ,uDAK7BqE,EAA0B,SAACC,GAAD,MACrC,CAAEvC,KAAM+B,EAAiBQ,WAAYA,IAkCxBC,EAtFQ,WAAmC,IAAlC7B,EAAiC,uDAAzBjB,EAAckB,EAAW,uCACxD,OAAQA,EAAOZ,MACd,KAAK6B,EACJ,OAAO,2BACHlB,GADJ,IAECuB,MAAM,GAAD,mBAAMvB,EAAMuB,OAAZ,CAAmB,CAAE/D,GAAI,EAAGiD,QAASR,EAAO6B,QAASN,WAAY,OAGxE,KAAKL,EACJ,OAAO,2BACHnB,GADJ,IAEC3B,QAAS4B,EAAO5B,UAGlB,KAAK+C,EACJ,OAAO,2BACHpB,GADJ,IAEClC,cAAemC,EAAO2B,aAGxB,KAAKN,EACJ,OAAO,2BACHtB,GADJ,IAEC3B,QAAQ,2BAAK2B,EAAM3B,SAAZ,IAAqB0D,OAAQ9B,EAAO8B,WAG7C,KAAKV,EACJ,OAAO,2BACHrB,GADJ,IAECuB,MAAOvB,EAAMuB,MAAMS,QAAO,SAAAC,GAAC,OAAIA,EAAEzE,IAAMyC,EAAOiC,YAGhD,QACC,OAAOlC,IClDNjB,EAAe,CAClBoD,QAAS,CACR,CAAE3E,GAAI,EAAG+C,KAAM,QACf,CAAE/C,GAAI,EAAG+C,KAAM,SACf,CAAE/C,GAAI,EAAG+C,KAAM,UAQF6B,GAJQ,WAAmC,IAAlCpC,EAAiC,uDAAzBjB,EAC/B,OAAOiB,GCPFqC,GAAS,SACTC,GAAW,WACXC,GAAY,kBACZC,GAAmB,yBACnBC,GAAgB,sBAChBC,GAAsB,4BACtBC,GAAqB,2BACrBC,GAA+B,qCAEjC7D,GAAe,CAClB8D,MAAO,GACP1F,SAAU,GACV2F,eAAgB,EAChB5F,YAAa,EACb6F,YAAY,EACZC,qBAAqB,GAkDTC,GAAgB,SAACpF,GAAD,MAAa,CAAEwB,KAAMgD,GAAQxE,WAC7CqF,GAAkB,SAACrF,GAAD,MAAa,CAAEwB,KAAMiD,GAAUzE,WACjDsF,GAAW,SAACN,GAAD,MAAY,CAAExD,KAAMkD,GAAWM,UAC1CO,GAAiB,SAAClG,GAAD,MAAkB,CAAEmC,KAAMmD,GAAkBtF,gBAC7DmG,GAAc,SAAClG,GAAD,MAAe,CAAEkC,KAAMoD,GAAetF,aAEpDmG,GAAmB,SAACP,GAAD,MAAiB,CAAE1D,KAAMsD,GAAoBI,eAChEQ,GAA0B,SAACR,GAAD,MAAiB,CAAE1D,KAAMuD,GAA8BG,eA2BxFS,GAAkB,uCAAG,WAAO9D,EAAU7B,EAAQ4F,EAAWC,GAApC,SAAA/D,EAAA,6DAC1BD,EAAS6D,IAAwB,IADP,SAETE,EAAU5F,GAFD,OAGG,IAHH,OAGjBP,KAAKsC,YACbF,EAASgE,EAAc7F,IAExB6B,EAAS6D,IAAwB,IANP,2CAAH,4DAiBTI,GAlGM,WAAmC,IAAlC3D,EAAiC,uDAAzBjB,GAAckB,EAAW,uCACtD,OAAQA,EAAOZ,MACd,KAAKgD,GACJ,OAAO,2BACHrC,GADJ,IAEC6C,MAAO7C,EAAM6C,MAAMe,KAAI,SAACC,GAAD,OAAOA,EAAErG,KAAOyC,EAAOpC,OAAhB,2BAA8BgG,GAA9B,IAAiCC,UAAU,IAASD,OAEpF,KAAKvB,GACJ,OAAO,2BACHtC,GADJ,IAEC6C,MAAO7C,EAAM6C,MAAMe,KAAI,SAACC,GAAD,OAAOA,EAAErG,KAAOyC,EAAOpC,OAAhB,2BAA8BgG,GAA9B,IAAiCC,UAAU,IAAUD,OAErF,KAAKtB,GACJ,OAAO,2BACHvC,GADJ,IAEC6C,MAAO5C,EAAO4C,QAEhB,KAAKL,GACJ,OAAO,2BACHxC,GADJ,IAEC9C,YAAa+C,EAAO/C,cAEtB,KAAKwF,GACJ,OAAO,2BACH1C,GADJ,IAEC8C,eAAgB7C,EAAO8D,gBAEzB,KAAKtB,GACJ,OAAO,2BACHzC,GADJ,IAEC7C,SAAU8C,EAAO9C,WAEnB,KAAKwF,GACJ,OAAO,2BACH3C,GADJ,IAEC+C,WAAY9C,EAAO8C,aAErB,KAAKH,GACJ,OAAO,2BACH5C,GADJ,IAECgD,oBAAqB/C,EAAO8C,aAE9B,QACC,OAAO/C,ICrDNgE,GAAWC,YAAgB,CAC9BC,YAAarC,EACbsC,YAAazD,EACb0D,QAAShC,GACTtB,KAAME,EACNqD,UAAWV,GACXW,IAAKlE,EACLmE,KAAMxE,IAEDyE,GAAmBC,OAAOC,sCAAwCC,IAEzDC,GADHC,YAAYb,GAAUQ,GAAiBM,YAAgBC,O,8JCJpDC,GAbK,SAACC,GACpB,OACC,uBAAKC,UAAWC,KAAEC,YAAlB,UACC,sBAAKF,UAAWC,KAAEhD,QAAlB,SACC,sBAAKkD,IAAI,0EAEV,+BACEJ,EAAM1E,WCQI+E,GAdM,SAACL,GACrB,IAAIM,EAAcN,EAAM9C,QAAQyB,KAAI,SAAA4B,GAAQ,OAAI,eAAC,GAAD,CAAajF,KAAMiF,EAASjF,MAAWiF,EAAShI,OAChG,OACC,iCACC,sBAAK0H,UAAWC,KAAEM,MAAlB,qBAGA,sBAAKP,UAAWC,KAAEO,aAAlB,SACEH,Q,SCSUI,GAFeC,cAZN,SAAC5F,GACxB,MAAO,CACNmC,QAASnC,EAAMoE,QAAQjC,YAIE,SAACzC,GAC3B,MAAO,KAKsBkG,CAA6CN,I,oBCdrEO,GAAY,SAAC,GAAD,SAAEC,SAAyBX,KAAEY,WAAa,IA+B7CC,GA7BA,SAACf,GAEf,OACC,uBAAKC,UAAWC,KAAEc,IAAlB,UACC,sBAAKf,UAAWC,KAAEe,KAAlB,SACC,eAAC,KAAD,CAASC,GAAG,WAAWjB,UAAWW,GAAlC,uBAED,sBAAKX,UAAWC,KAAEe,KAAlB,SACC,eAAC,KAAD,CAASC,GAAG,WAAWjB,UAAWW,GAAlC,wBAED,sBAAKX,UAAWC,KAAEe,KAAlB,SACC,eAAC,KAAD,CAASC,GAAG,QAAQjB,UAAWW,GAA/B,oBAED,sBAAKX,UAAWC,KAAEe,KAAlB,SACC,eAAC,KAAD,CAASC,GAAG,SAASjB,UAAWW,GAAhC,qBAED,sBAAKX,UAAWC,KAAEe,KAAlB,SACC,eAAC,KAAD,CAASC,GAAG,SAASjB,UAAWW,GAAhC,qBAED,sBAAKX,UAAWC,KAAEe,KAAlB,SACC,eAAC,KAAD,CAASC,GAAG,SAASjB,UAAWW,GAAhC,qBAED,sBAAKX,UAAWC,KAAEe,KAAlB,SACC,eAAC,KAAD,CAASC,GAAG,YAAYjB,UAAWW,GAAnC,wBAED,eAAC,GAAD,QCtBYO,I,OAPE,WAChB,OACC,8CCKaC,I,OAPF,WACZ,OACC,0CCKaC,I,OAPD,WACb,OACC,2C,yCCKaC,GAPG,SAACtB,GAClB,OACC,sBAAKC,UAAWC,KAAEqB,YAAlB,SACEvB,EAAMnE,QCkCK2F,GAnCD,SAACxB,GACd,IAAIyB,EAAWzB,EAAM0B,MAAM/C,KAAI,SAACgD,GAAD,OAAe,eAAC,GAAD,CAAW9F,KAAM8F,EAAU9F,MAAW8F,EAAUpJ,OAG1FqJ,EAAkBC,KAAMC,YAkB5B,OACC,uBAAK7B,UAAWC,KAAE6B,eAAlB,UACC,qBAAI9B,UAAWC,KAAE8B,aAAjB,sBACA,sBAAK/B,UAAWC,KAAE+B,mBAAlB,SACER,IAEF,uBAAKxB,UAAWC,KAAEgC,iBAAlB,UACC,2BAAWC,IAAKP,EAAiBQ,SAbZ,WACvB,IAAIC,EAAoBT,EAAgBU,QAAQC,MAChDvC,EAAMwC,gBAAgBH,IAW0CE,MAAOvC,EAAMlE,cAC3E,yBAAQ2G,QAlBG,WACdzC,EAAM0C,YAiBH,yBCFWC,GAFQhC,cAxBC,SAAC5F,GACxB,MAAO,CACN2G,MAAO3G,EAAMc,KAAKA,KAClBC,YAAaf,EAAMc,KAAKC,gBAIC,SAACrB,GAC3B,MAAO,CACNiI,SAAU,WACTjI,EdgBwC,CAAEL,KAAMuB,KcdjD6G,gBAAiB,SAACH,GACjB,IAAIrH,EdeuC,SAACqH,GAAD,MAC5C,CAAEjI,KAAMwB,EAAsBI,QAASqG,GchBzBO,CAA+BP,GAC5C5H,EAASO,OAUW2F,CAA6Ca,I,+CC/BrD,gvGC4CAqB,GAtCJ,SAAC,GAAoD,IAAlDC,EAAiD,EAAjDA,KAAM/E,EAA2C,EAA3CA,oBAAqBgF,EAAsB,EAAtBA,SAAUC,EAAY,EAAZA,OAClD,OACC,+BACC,uBAAK/C,UAAWC,KAAE+C,cAAlB,UACC,uBAAKhD,UAAWC,KAAEgD,gBAAlB,UACC,sBAAKjD,UAAWC,KAAEiD,WAAlB,SACC,eAAC,KAAD,CAASjC,GAAE,kBAAa4B,EAAKvK,IAA7B,SACC,sBAAK6H,IAAK0C,EAAKhG,OAAOsG,MAAQN,EAAKhG,OAAOsG,MAAQC,GAAWC,IAAI,mBAGnE,sBAAKrD,UAAWC,KAAEqD,aAAlB,SACET,EAAKjE,SACH,yBAAQ2E,SAAUzF,EAAqB0E,QAAS,WACjDM,EAASD,EAAKvK,KADb,sBAGA,yBAAQiL,SAAUzF,EAAqB0E,QAAS,WACjDO,EAAOF,EAAKvK,KADX,yBAKL,uBAAK0H,UAAWC,KAAEuD,iBAAlB,UACC,sBAAKxD,UAAWC,KAAEwD,WAAlB,SAA+BZ,EAAKxH,OACpC,sBAAK2E,UAAWC,KAAEyD,aAAlB,SACEb,EAAK/J,SAEP,uBAAKkH,UAAWC,KAAE0D,eAAlB,UACC,sBAAK3D,UAAWC,KAAE2D,mBAAlB,SACE,uBAEF,sBAAK5D,UAAWC,KAAE4D,sBAAlB,SACE,sC,6ECVOC,GApBH,SAAC,GAAqF,IAAnFlG,EAAkF,EAAlFA,eAAgB3F,EAAkE,EAAlEA,SAAuB8L,GAA2C,EAAxD/L,YAAwD,EAA3C+L,eAA+BhE,GAAY,EAA5B5B,YAA4B,oBAIhG,OACC,iCAEC,eAAC,KAAD,CAAY6F,iBAAe,EAACC,eAAgB,EAAGC,MAAOtG,EAAgBuG,gBAAiBlM,EAAUkK,SANnG,SAAkBiC,GACjBL,EAAcK,IAKwGC,iBAAkBtE,EAAMuE,mBAE5IvE,EAAMpC,MAAMe,KAAI,SAACC,GAAD,OAAO,eAAC,GAAD,CACtBkE,KAAMlE,EACNb,oBAAqBiC,EAAMjC,oBAE3BgF,SAAU/C,EAAM+C,SAChBC,OAAQhD,EAAMgD,QAFTpE,EAAErG,WClBG,OAA0B,2C,qBCS1BiM,GALC,SAACxE,GAChB,OAAO,sBAAKC,UAAWC,KAAEuE,WAAlB,SACN,sBAAKrE,IAAKsE,Q,SCFRC,GAAkB,SAAC5J,GAAD,MAAY,CACjCf,OAAQe,EAAMuE,KAAKtF,SAGP4K,GAAmB,SAACC,GAAe,IACzCC,EADwC,gKAE7C,WACC,OAAKC,KAAK/E,MAAMhG,OACT,eAAC6K,EAAD,eAAeE,KAAK/E,QADI,eAAC,YAAD,CAAUkB,GAAI,cAHD,GACdW,KAAMgD,WAOtC,OADqClE,aAAQgE,GAARhE,CAAyBmE,I,UCTlDE,GAAgBC,cAJL,SAAClK,GACxB,OAAOA,EAAMqE,UAAUxB,SAG8B,SAACA,GACtD,OAAOA,EAAMb,QAAO,SAAA6B,GAAC,OAAI,QAGbsG,GAAc,SAACnK,GAC3B,OAAOA,EAAMqE,UAAUlH,UAGXiN,GAAoB,SAACpK,GACjC,OAAOA,EAAMqE,UAAUvB,gBAGXuH,GAAiB,SAACrK,GAC9B,OAAOA,EAAMqE,UAAUnH,aAGXoN,GAAgB,SAACtK,GAC7B,OAAOA,EAAMqE,UAAUtB,YAGXwH,GAAyB,SAACvK,GACtC,OAAOA,EAAMqE,UAAUrB,qBCjBlBwH,G,+MAMLvB,cAAgB,SAACK,GAChB,EAAKrE,MAAMwF,kCAAkCnB,EAAY,EAAKrE,MAAM9H,W,EAIrEqM,iBAAmB,SAACjC,EAASmD,GAC5B,EAAKzF,MAAM0F,mBAAmB,EAAK1F,MAAM/H,YAAawN,I,wDAVvD,WACCV,KAAK/E,MAAMhI,SAAS+M,KAAK/E,MAAM/H,YAAa8M,KAAK/E,MAAM9H,Y,oBAYxD,WACC,OAAO,uCACL6M,KAAK/E,MAAMlC,WAAa,eAAC,GAAD,IAAgB,KACzC,eAAC,GAAD,CACCD,eAAgBkH,KAAK/E,MAAMnC,eAC3B3F,SAAU6M,KAAK/E,MAAM9H,SACrBD,YAAa8M,KAAK/E,MAAM/H,YACxB+L,cAAee,KAAKf,cACpBpG,MAAOmH,KAAK/E,MAAMpC,MAClBoF,OAAQ+B,KAAK/E,MAAMgD,OACnBD,SAAUgC,KAAK/E,MAAM+C,SACrBhF,oBAAqBgH,KAAK/E,MAAMjC,oBAChCwG,iBAAkBQ,KAAKR,0B,GA3BE1C,KAAMgD,WA4CpBnF,eACdiB,cAZuB,SAAC5F,GACxB,MAAQ,CACP6C,MAAOoH,GAAcjK,GACrB7C,SAAUgN,GAAYnK,GACtB8C,eAAgBsH,GAAkBpK,GAClC9C,YAAamN,GAAerK,GAC5B+C,WAAYuH,GAActK,GAC1BgD,oBAAqBuH,GAAuBvK,MAKpB,CACxBiI,OnBsDoB,SAACpK,GAAD,8CAAY,WAAO6B,GAAP,SAAAC,EAAA,sDACjC6D,GAAmB9D,EAAU7B,EAAQb,EAASO,UAAUqN,KAAK5N,GAAWiG,IADvC,2CAAZ,uDmBrDpB+E,SnBwDsB,SAACnK,GAAD,8CAAY,WAAO6B,GAAP,SAAAC,EAAA,sDACnC6D,GAAmB9D,EAAU7B,EAAQb,EAASU,YAAYkN,KAAK5N,GAAWkG,IADvC,2CAAZ,uDmBvDtBE,kBACAG,2BACAtG,SnBiBkC,SAACC,EAAaC,GAAd,8CAA2B,WAAOuC,GAAP,eAAAC,EAAA,6DAC9DD,EAAS4D,IAAiB,IADoC,SAE7CtG,EAASC,SAASC,EAAaC,GAFc,OAE1DG,EAF0D,OAG9DoC,EAAS4D,IAAiB,IAC1B5D,EAASyD,GAAS7F,EAAKuN,QACvBnL,GAVgCqE,EAUNzG,EAAKwN,WAVoB,CAAEzL,KAAMqD,GAAqBqB,mBAKlB,iCAL/B,IAACA,IAK8B,OAA3B,uDmBhBlC0G,kCnBgC+C,SAACnB,EAAYnM,GAAb,8CAA0B,WAAOuC,GAAP,eAAAC,EAAA,6DAC1ED,EAAS0D,GAAekG,IACxB5J,EAAS4D,IAAiB,IAFgD,SAGzDtG,EAASC,SAASqM,EAAYnM,GAH2B,OAGtEG,EAHsE,OAI1EoC,EAASyD,GAAS7F,EAAKuN,QACvBnL,EAAS4D,IAAiB,IALgD,2CAA1B,uDmB/B/CD,eACAsH,mBnBsBgC,SAACrB,EAAYnM,GAAb,8CAA0B,WAAOuC,GAAP,eAAAC,EAAA,6DAC3DD,EAAS2D,GAAYlG,IACrBuC,EAAS4D,IAAiB,IAFiC,SAG1CtG,EAASC,SAASqM,EAAYnM,GAHY,OAGvDG,EAHuD,OAI3DoC,EAASyD,GAAS7F,EAAKuN,QACvBnL,EAAS4D,IAAiB,IALiC,2CAA1B,yDmB/BnBqB,CAYb6F,I,kDClBa7F,eACdiB,cAPuB,SAAC5F,GACxB,MAAQ,CACP4B,WAAY5B,EAAMkE,YAAYpG,iBAKN,CAAEiN,6BtB2BgB,SAACjN,GAAD,8CAAmB,WAAO4B,GAAP,SAAAC,EAAA,sEACzC/B,EAAwBE,GADiB,OAE7B,IAF6B,OAEjDR,KAAKsC,YACjBF,EAASiC,EAAwB7D,IAH4B,2CAAnB,yDsB5B7B6G,EA1CgB,SAACM,GAC/B,MAA8B+F,qBAAS,GAAvC,oBAAKC,EAAL,KAAeC,EAAf,KACA,EAA0BF,oBAAS/F,EAAMrD,YAAzC,oBAAK5D,EAAL,KAAamN,EAAb,KACAC,sBAAU,WACTD,EAAUlG,EAAMrD,cACd,CAACqD,EAAMrD,aAeV,OACC,kCACGqJ,GACD,+BACC,uBAAMvD,QAjBe,WACxBwD,GAAY,IAgBT,SAAkCjG,EAAMrD,eAGzCqJ,GACA,+BACC,wBAAO5D,SAbY,SAACgE,GACvBF,EAAUE,EAAEC,cAAc9D,QAYU+D,WAAW,EAAMC,OAlB3B,WAC1BN,GAAY,GACZjG,EAAM8F,6BAA6B/M,IAgB8CwJ,MAAOxJ,Y,SCW3EyN,GA3CS,SAACxG,GACxB,MAA2EyG,eAAnEC,EAAR,EAAQA,SAAUC,EAAlB,EAAkBA,aAAqBC,GAAvC,EAAgCC,MAAhC,EAAuCD,UAAvC,EAAiDE,UAAaC,OAU9D,OALAH,EAAS,WAAY5G,EAAM5G,QAAQ4N,UACnCJ,EAAS,UAAW5G,EAAM5G,QAAQ6N,SAClCL,EAAS,iBAAkB5G,EAAM5G,QAAQ8N,gBACzCN,EAAS,4BAA6B5G,EAAM5G,QAAQ+N,2BACpDC,OAAOC,KAAKrH,EAAM5G,QAAQkO,UAAUC,SAAQ,SAACC,GAAUZ,EAAS,YAAD,OAAaY,GAAOxH,EAAM5G,QAAQkO,SAASE,OAEzG,wBAAMC,SAAUd,GAVA,SAAAtO,GAChB2H,EAAM0H,YAAYrP,GAClB2H,EAAM2H,sBAQN,UACC,+BACC,6CAED,iCACC,6CACA,oCAAOvN,KAAK,QAAWsM,EAAS,iBAEjC,iCACC,4CACA,oCAAOtM,KAAK,QAAWsM,EAAS,gBAEjC,+BACC,2CAAaU,OAAOC,KAAKrH,EAAM5G,QAAQkO,UAAU3I,KAAI,SAAA6I,GACpD,OAAO,+BAAIA,EAAJ,KAAU,oCAAOpN,KAAK,QAAWsM,EAAS,YAAD,OAAac,iBAI/D,iCACC,qDACA,oCAAOpN,KAAK,YAAesM,EAAS,oBACpC,6CAED,iCACC,gEACA,oCAAOtM,KAAK,QAAWsM,EAAS,sCCC9BkB,GAAc,SAAC5H,GACpB,OACC,iCACEA,EAAM6H,SAAW,+BACjB,yBAAQpF,QAASzC,EAAM8H,aAAvB,4BAED,+BACC,8BAAK9H,EAAM5G,QAAQ4N,aAEpB,iCACC,4CACA,6BAAIhH,EAAM5G,QAAQ6N,aAEnB,iCACC,4CACA,gCACC,8BAAKjH,EAAM5G,QAAQkO,SAASS,WAC5B,8BAAK/H,EAAM5G,QAAQkO,SAASU,UAC5B,8BAAKhI,EAAM5G,QAAQkO,SAASW,KAC5B,8BAAKjI,EAAM5G,QAAQkO,SAASY,UAC5B,8BAAKlI,EAAM5G,QAAQkO,SAASa,YAC5B,8BAAKnI,EAAM5G,QAAQkO,SAASc,UAC5B,8BAAKpI,EAAM5G,QAAQkO,SAASe,SAC5B,8BAAKrI,EAAM5G,QAAQkO,SAASgB,iBAG9B,iCACC,qDACA,6BAAItI,EAAM5G,QAAQ8N,eAAiB,MAAQ,OAC3C,iEACA,6BAAIlH,EAAM5G,QAAQ+N,mCASPoB,GAvEK,SAACvI,GAEpB,MAA8B+F,qBAAS,GAAvC,oBAAKC,EAAL,KAAeC,EAAf,KAEA,IAAKjG,EAAM5G,QACV,OAAO,eAAC,GAAD,IAUR,OACC,+BAIC,uBAAK6G,UAAWC,KAAEsI,iBAAlB,UACC,+BACC,sBAAKpI,IAAKJ,EAAM5G,QAAQ0D,OAAO2L,OAASpF,GAAWC,IAAI,aAEvDtD,EAAM6H,SAAW,wBAAOzN,KAAK,OAAOgI,SAhBZ,SAACgE,GACxBA,EAAEsC,OAAOC,MAAMC,QAClB5I,EAAM6I,UAAUzC,EAAEsC,OAAOC,MAAM,OAe9B,eAACG,GAAD,IACC9C,EAAW,eAAC,GAAD,aAAiB2B,iBAAkB,WAAQ1B,GAAY,KAAejG,IAAY,eAAC,GAAD,aAAc8H,aAAc,WAAQ7B,GAAY,KAAajG,U,yCCrBhJ+I,GAZF,SAAC/I,GAEb,OACA,uBAAKC,UAAWC,KAAEe,KAAlB,UACC,sBAAKb,IAAI,sGAAsGkD,IAAI,KACjHtD,EAAMxE,QACR,iCACE,yCADF,IACqBwE,EAAMzD,kBCHvByM,GAAUnH,KAAMoH,MAAK,SAAAjJ,GAC1BkJ,QAAQC,IAAI,UACZ,IAAIC,EAAepJ,EAAM1D,MAAMqC,KAAI,SAAA3B,GAAC,OAAI,eAAC,GAAD,CAAMxB,QAASwB,EAAExB,QAAoBe,WAAYS,EAAET,YAApBS,EAAEzE,OAEzE,OACC,sBAAK0H,UAAWC,KAAEmJ,WAAlB,SACC,iCACC,2CAGA,+BACC,eAAC,GAAD,eAAiBrJ,MAElB,sBAAKC,UAAWC,KAAEoJ,aAAlB,SACEF,YAOAG,GAAc,SAACvJ,GAAW,IAAD,EAC9B,EAAiEyG,aAAQ,CAAC+C,KAAM,WAAxE9C,EAAR,EAAQA,SAAUC,EAAlB,EAAkBA,aAAcE,EAAhC,EAAgCA,MAAoBE,EAApD,EAAuCD,UAAaC,OAKpD,OACC,wBAAMU,SAAUd,GALA,SAAAtO,GAChB2H,EAAMyJ,QAAQpR,EAAKG,MACnBqO,OAGA,UACC,sBAAK5G,UAAWC,KAAEwJ,UAAlB,SACC,uCAAUzJ,WAAiB,OAAN8G,QAAM,IAANA,OAAA,EAAAA,EAAQvO,OAAQ0H,KAAEyJ,OAAWjD,EAAS,OAAQ,CAClEkD,SAAU,oBACVC,UAAW,CACVtH,MAAO,GACP/G,QAAS,kCAGZ,sBAAKsO,MAAO,CAACC,MAAO,OAApB,UACQ,OAANhD,QAAM,IAANA,OAAA,EAAAA,EAAQvO,OAAQ,8BAAU,OAANuO,QAAM,IAANA,GAAA,UAAAA,EAAQvO,YAAR,eAAcgD,UAAW,aAE/C,+BACC,wBAAOpB,KAAK,SAASmI,MAAM,mBAMhByG,MC/BAgB,GAFUrJ,cAfD,SAAC5F,GACxB,MAAO,CACNuB,MAAOvB,EAAMkE,YAAY3C,MACzB2N,YAAalP,EAAMkE,YAAYgL,gBAIN,SAACxP,GAC3B,MAAO,CACNgP,QAAS,SAACjR,GACTiC,E3BuCoB,SAACjC,GAAD,MACrB,CAAE4B,KAAM6B,EAAUY,QAASrE,G2BxCjBiR,CAAQjR,QAKKmI,CAA6CqI,ICLvDkB,GARC,SAAClK,GAChB,OACC,uBAAKC,UAAWC,KAAEiK,IAAlB,UACC,eAAC,GAAD,CAAazC,YAAa1H,EAAM0H,YAAaG,QAAS7H,EAAM6H,QAASzO,QAAS4G,EAAM5G,QAASyP,UAAW7I,EAAM6I,YAC9G,eAAC,GAAD,Q,UCDGuB,G,wKACL,WACC,IAAIxR,EAASmM,KAAK/E,MAAMqK,MAAMC,OAAO1R,OAChCA,IACJA,EAASmM,KAAK/E,MAAMpH,QAErBmM,KAAK/E,MAAMvD,2BAA2B7D,GACtCmM,KAAK/E,MAAMuK,sBAAsB3R,K,+BAGlC,WACCmM,KAAKyF,mB,gCAEN,SAAmBC,EAAWC,EAAWC,GACpC5F,KAAK/E,MAAMqK,MAAMC,OAAO1R,QAAU6R,EAAUJ,MAAMC,OAAO1R,QAC5DmM,KAAKyF,mB,oBAIP,WACC,OACC,eAAC,GAAD,yBAAS3C,SAAU9C,KAAK/E,MAAMqK,MAAMC,OAAO1R,QAAYmM,KAAK/E,OAA5D,IAAmE5G,QAAS2L,KAAK/E,MAAM5G,QAASyP,UAAW9D,KAAK/E,MAAM6I,iB,GArB1FhH,KAAMgD,WAwCtBnF,eACdiB,cAbuB,SAAC5F,GACxB,MAAQ,CACP3B,QAAS2B,EAAMkE,YAAY7F,QAC3BR,OAAQmC,EAAMuE,KAAK/G,GACnByB,OAAQe,EAAMuE,KAAKsL,UASK,CAAEpO,iBAAgBC,6BAA4B8N,sB7BoBnC,SAAChS,GAAD,8CAAQ,WAAOkC,GAAP,eAAAC,EAAA,sEACvB/B,EAAqBJ,GADE,OACxCH,EADwC,OAE5CqC,EAASiC,EAAwBtE,EAASC,OAFE,2CAAR,uD6BpB0DwQ,U7BgCtE,SAACgC,GAAD,8CAAU,WAAOpQ,GAAP,eAAAC,EAAA,sEACb/B,EAAqBkS,GADR,OAED,KAD7BzS,EAD8B,QAErBC,KAAKsC,YACjBF,GA1B+BqC,EA0BL1E,EAASC,KAAKA,KAAKyE,OAzB7C,CAAE1C,KAAMiC,EAAoBS,YAsBK,iCAvBH,IAACA,IAuBE,OAAV,uD6BhCiF4K,Y7BuC/E,SAACtO,GAAD,8CAAa,WAAOqB,EAAUqQ,GAAjB,eAAApQ,EAAA,6DACjC9B,EAASkS,IAAWxL,KAAK/G,GADQ,SAElBI,EAAuBS,GAFL,OAGN,IAHM,OAG1Bf,KAAKsC,YACjBF,EAASgC,EAA2B7D,IAJE,2CAAb,2D6BtC1BmS,cACAnG,GAHclF,CAIb0K,I,yCCpBaY,GA3BA,SAAChL,GACf,OACC,0BAAQC,UAAWC,KAAE+K,OAArB,UACC,+BACC,sBAAK7K,IAAI,yIAAyIkD,IAAI,OAEvJ,sBAAKrD,UAAWC,KAAEgL,aAAlB,SACElL,EAAMhG,OACJ,iCACD,0CACKgG,EAAMjG,MADX,OAGA,gCACC,eAAC,KAAD,CACCK,KAAK,UACL+Q,KAAM,eAACC,GAAA,EAAD,IACN3I,QAAS,WAAOzC,EAAMqL,iBAKxB,eAAC,KAAD,CAASnK,GAAI,SAAb,yBCtBAoK,G,gKACL,WACC,OAAO,eAAC,GAAD,eAAYvG,KAAK/E,Y,GAFI6B,KAAMgD,WAUrBlE,iBALS,SAAC5F,GAAD,MAAY,CACnCf,OAAQe,EAAMuE,KAAKtF,OACnBD,MAAOgB,EAAMuE,KAAKvF,SAGqB,CAAEsR,OnCyDpB,yDAAM,WAAO5Q,GAAP,SAAAC,EAAA,sEACNrB,IADM,OAEM,IAFN,OAEdhB,KAAKsC,YACjBF,EAASN,EAAgB,KAAM,KAAM,MAAM,IAHjB,2CAAN,wDmCzDPwG,CAAqC2K,I,wCCR9CC,GAAY,SAAC,GAA0C,IAAxCtR,EAAuC,EAAvCA,QAASuR,EAA8B,EAA9BA,aAActR,EAAgB,EAAhBA,WAC3C,EAA0EuM,eAAlEgF,EAAR,EAAQA,QAAS/E,EAAjB,EAAiBA,SAAUC,EAA3B,EAA2BA,aAAcE,EAAzC,EAAyCA,MAAoBE,EAA7D,EAAgDD,UAAaC,OACvDU,EAAW,SAACxO,GACjBiQ,QAAQC,IAAIlQ,GACZuS,EAAavS,GACb4N,KAED,OACC,sBAAK5G,UAAWC,KAAEwJ,UAAlB,SACC,wBAAMjC,SAAUd,EAAac,GAA7B,UACC,iCACC,+BACExN,GAAW,4DAEb,eAAC,KAAD,CACCqB,KAAK,QACLmQ,QAASA,EACTC,MAAO,CAAE9B,SAAU,uBACnB+B,OAAQ,oBAAGC,MAASxJ,EAAZ,EAAYA,SAAUG,EAAtB,EAAsBA,MAAtB,OACP,eAAC,KAAD,CACCA,MAAOA,EACPH,SAAUA,EACVyJ,YAAY,QACZ5L,YAAkB,OAAN8G,QAAM,IAANA,OAAA,EAAAA,EAAQzN,QAASW,IAAYiG,KAAEyJ,cAK/C,+BACC,eAAC,KAAD,CACCrO,KAAK,WACLmQ,QAASA,EACTC,MAAO,CAAE9B,UAAU,GACnB+B,OAAQ,oBAAGC,MAASxJ,EAAZ,EAAYA,SAAUG,EAAtB,EAAsBA,MAAtB,OACP,eAAC,KAAMuJ,SAAP,CACCvJ,MAAOA,EACPH,SAAUA,EACVyJ,YAAY,WACZ5L,YAAkB,OAAN8G,QAAM,IAANA,OAAA,EAAAA,EAAQxN,WAAYU,IAAYiG,KAAEyJ,aAKlD,+BACC,eAAC,KAAD,CACCoC,aAAa,QACbzQ,KAAK,aACLmQ,QAASA,EACTE,OAAQ,oBAAGC,MAASxJ,EAAZ,EAAYA,SAAUG,EAAtB,EAAsBA,MAAtB,OACP,eAAC,KAAD,CACCA,MAAOA,EACPH,SAAUA,EAFX,8BAOFlI,GAAc,sBAAKkG,IAAKlG,IACxBA,GAAc,oCAAOE,KAAK,QAAWsM,EAAS,aAC/C,+BACC,eAAC,KAAD,CAAQtM,KAAK,UAAU4R,SAAS,SAASvE,SAAUd,EAAac,GAAhE,4BA4BU9G,iBALQ,SAAC5F,GAAD,MAAY,CAClCf,OAAQe,EAAMuE,KAAKtF,OACnBC,QAASc,EAAMuE,KAAKrF,QACpBC,WAAYa,EAAMuE,KAAKpF,cAEgB,CAAE+R,QpCzCnB,SAAC3S,EAAOC,EAAUC,EAAYC,GAA9B,8CAA0C,WAAOgB,GAAP,eAAAC,EAAA,sEAC3CrB,EAAcC,EAAOC,EAAUC,EAAYC,GADA,OAE/B,KAD7BrB,EAD4D,QAEnDC,KAAKsC,YACjBF,EAASD,KACTC,EAASF,GAAc,KACgB,KAA7BnC,EAASC,KAAKsC,WACxBF,EAASG,KAGTH,EAASF,GAAc,IATwC,2CAA1C,wDoCyCRoG,EAjBD,SAACX,GAId,OAAIA,EAAMhG,OACF,eAAC,YAAD,CAAUkH,GAAI,aAEf,iCACN,qBAAIjB,UAAWC,KAAEM,MAAjB,mBACA,eAAC,GAAD,CAAWvG,QAAS+F,EAAM/F,QAASuR,aARf,SAAAvS,GACpB+G,EAAMiM,QAAQhT,EAASK,MAAOL,EAASM,SAAUN,EAASO,WAAYP,EAASQ,UAOhBS,WAAY8F,EAAM9F,mB,qBC3EpEgS,GARI,SAAClM,GACnB,OACC,sBAAKC,UAAWC,KAAEiM,SAAlB,SACC,gBAAC,KAAD,CAASjL,GAAI,YAAclB,EAAMzH,GAAjC,UAAqC,sBAAK6H,IAAI,sGAAsGkD,IAAI,KAAMtD,EAAM1E,W,qBCCxJ8Q,GANC,SAACpM,GAChB,OACC,sBAAKC,UAAWC,KAAE1E,QAAlB,SAA4BwE,EAAMxE,W,oBCwB9B6Q,GAAiB,SAACrM,GACvB,MAAiEyG,eAAzDC,EAAR,EAAQA,SAAUC,EAAlB,EAAkBA,aAAcE,EAAhC,EAAgCA,MAAhC,EAAuCC,UAAaC,OAKpD,OACC,wBAAMU,SAAUd,GALA,SAAAtO,GAChB2H,EAAMsM,WAAWjU,EAAKmD,SACtBqL,OAGA,UACE,yCAAeH,EAAS,aACzB,wBAAOtM,KAAK,SAASmI,MAAM,aAKfgK,GAlCC,SAACvM,GAChB,IAAIwM,EAAkBxM,EAAM3E,QAAQsD,KAAI,SAAC8N,GAAD,OAAO,eAAC,GAAD,CAAYlU,GAAIkU,EAAElU,GAAe+C,KAAMmR,EAAEnR,MAAdmR,EAAElU,OACxEmU,EAAmB1M,EAAMzE,SAASoD,KAAI,SAACgO,GAAD,OAAO,eAAC,GAAD,CAASnR,QAASmR,EAAEnR,SAAcmR,EAAEpU,OAErF,OACC,uBAAK0H,UAAWC,KAAE7E,QAAlB,UACC,sBAAK4E,UAAWC,KAAE0M,cAAlB,SACEJ,IAEF,sBAAKvM,UAAWC,KAAE3E,SAAlB,SACEmR,IAEF,sBAAKzM,UAAWC,KAAE2M,YAAlB,SACC,eAAC,GAAD,eAAoB7M,UCUTN,eACdiB,cAtBuB,SAAC5F,GACxB,MAAO,CACNM,QAASN,EAAMmE,YAAY7D,QAC3BE,SAAUR,EAAMmE,YAAY3D,SAC5BvB,OAAQe,EAAMuE,KAAKtF,WAIM,SAACS,GAC3B,MAAO,CACN6R,WAAY,SAAC9Q,GACZf,EtCSoC,SAACe,GAAD,MACrC,CAAEpB,KAAMgB,EAAaM,WAAYF,GsCVvBsR,CAAwBtR,SAYnCoJ,GAFclF,CAGZ6M,ICVGQ,G,2KACJ,WACEhI,KAAK/E,MAAMgN,kB,oBAEb,WACE,OAAKjI,KAAK/E,MAAM9E,YAIZ,uBAAK+E,UAAU,cAAf,UACE,eAAC,GAAD,IACA,eAAC,GAAD,IACA,uBAAKA,UAAU,sBAAf,UACA,eAAC,SAAD,CAAOgN,KAAK,WAAWtB,QCnCJ9G,EDmC0BqI,GCjC/C,SAAClN,GACP,OAAO,eAAC,YAAD,CAAUmN,SAAU,uFAApB,SACN,eAACtI,EAAD,eAAe7E,UDgCN,eAAC,SAAD,CAAOiN,KAAK,oBAAoBtB,OAAQ,kBAAM,eAAC,GAAD,OAC9C,eAAC,SAAD,CAAOsB,KAAK,QAAQtB,OAAQ,kBAAM,eAAC,GAAD,OAClC,eAAC,SAAD,CAAOsB,KAAK,SAAStB,OAAQ,kBAAM,eAAC,GAAD,OACnC,eAAC,SAAD,CAAOsB,KAAK,SAAStB,OAAQ,kBAAM,eAAC,GAAD,OACnC,eAAC,SAAD,CAAOsB,KAAK,SAAStB,OAAQ,kBAAM,eAAC,GAAD,OACnC,eAAC,SAAD,CAAOsB,KAAK,YAAYtB,OAAQ,kBAAM,eAAC,GAAD,OACtC,eAAC,SAAD,CAAOsB,KAAK,SAAStB,OAAQ,kBAAM,eAAC,GAAD,OACrC,eAAC,SAAD,CAAOsB,KAAK,IAAItB,OAAQ,kBAAM,eAAC,GAAD,aAf1B,eAAC,GAAD,IC5Bc,IAAC9G,M,GDsBXhD,KAAMgD,WA+BTnF,eACbqL,cACApK,cANsB,SAAC5F,GAAD,MAAY,CAClCG,YAAaH,EAAMsE,IAAInE,eAKE,CAAE8R,cxClCA,WAC5B,OAAO,SAACvS,GACP,IAAI2S,EAAU3S,EAASD,KACvB6S,QAAQC,IAAI,CAACF,IAAUhW,MAAK,WAC3BqD,EAND,CAAEL,KAAMa,WwCkCKyE,CAEgCqN,IE7C/CQ,KAAS5B,OACR,eAAC,KAAM6B,WAAP,UACC,eAAC,KAAD,CAAeC,SAAUC,YAAzB,SACC,eAAC,KAAD,CAAU/N,MAAOA,GAAjB,SACC,eAAC,GAAD,UAIHgO,SAASC,eAAe,SAUzB3W,K,mBC7BAF,EAAOC,QAAU,CAAC,cAAgB,4BAA4B,gBAAkB,8BAA8B,iBAAmB,+BAA+B,WAAa,yBAAyB,aAAe,2BAA2B,WAAa,yBAAyB,eAAiB,6BAA6B,mBAAqB,iCAAiC,sBAAwB,oCAAoC,aAAe,6B,mBCArcD,EAAOC,QAAU,CAAC,IAAM,oBAAoB,KAAO,qBAAqB,WAAa,6B,mBCArFD,EAAOC,QAAU,CAAC,eAAiB,8BAA8B,aAAe,4BAA4B,mBAAqB,kCAAkC,iBAAmB,kC,mBCAtLD,EAAOC,QAAU,CAAC,WAAa,4BAA4B,aAAe,8BAA8B,MAAQ,yB,mBCAhHD,EAAOC,QAAU,CAAC,UAAY,yBAAyB,MAAQ,qBAAqB,MAAQ,uB,mBCA5FD,EAAOC,QAAU,CAAC,QAAU,yBAAyB,cAAgB,+BAA+B,OAAS,wBAAwB,OAAS,wBAAwB,SAAW,0BAA0B,YAAc,+B,mBCAzND,EAAOC,QAAU,CAAC,MAAQ,4BAA4B,aAAe,qC,mBCArED,EAAOC,QAAU,CAAC,eAAiB,kCAAkC,KAAO,wBAAwB,WAAa,iC","file":"static/js/main.fc2762ee.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"image\":\"ProfileInfo_image__UbiZa\",\"discriptionBlock\":\"ProfileInfo_discriptionBlock__2Zfws\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"itemFriends\":\"FriendsItem_itemFriends__1i93p\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1GGgj\",\"login__block\":\"Header_login__block__1B7di\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"notes__post\":\"NotesPost_notes__post__3aNrg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wpapperGif\":\"Preloader_wpapperGif__pCb4x\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pad\":\"Profile_pad__1cBfN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__2HPe9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nameChat\":\"DialogItem_nameChat__1Vj6G\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"Message_message__xTsZN\"};","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import * as axios from 'axios';\r\n\r\n\r\nconst instance = axios.create({\r\n\twithCredentials: true,\r\n\tbaseURL:'https://social-network.samuraijs.com/api/1.0/',\r\n\theaders: {\r\n\t\t\"API-KEY\": \"70e8e5ed-ff03-4d7b-b77d-74a34aff6348\"\r\n\t}\r\n})\r\n\r\nexport  const usersAPI = {//вспомагательный объект который содержит методы(набор)\r\n\tgetUsers (currentPage, pageSize)  {\r\n\t\treturn instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n\t\t\t.then(response => {\r\n\t\t\t\treturn response.data;//возвращаем только data(инкапсулируем)\r\n\t\t\t})\r\n\t},\r\n\tsetFollow(id) {\r\n\t\treturn instance.post(`follow/${id}`)\r\n\t},\r\n\tsetUnfollow(id) {\r\n\t\treturn instance.delete(`follow/${id}`)\r\n\t},\r\n\t\r\n}\r\n\r\nexport const profileAPI = {\r\n\tgetUserProfile(userId) {\r\n\t\treturn instance.get(`profile/${userId}`)\r\n\t},\r\n\tgetStatus(id) {\r\n\t\treturn instance.get(`profile/status/${id}`)\r\n\t},\r\n\tupdateStatus(newStatusText) {\r\n\t\treturn instance.put(`profile/status`, { status: newStatusText })\r\n\t},\r\n\tsavePhoto(photoFile) {\r\n\t\tconst formData = new FormData();\r\n\t\tformData.append('image', photoFile)\r\n\t\treturn instance.put(`profile/photo`, formData, {\r\n\t\t\t'Content-Type': 'multipart/form-data'\r\n\t\t})\r\n\t},\r\n\tsaveProfile(profile) {\r\n\t\treturn instance.put(`profile`, profile);\r\n\t}\r\n}\r\n\r\n\r\nexport const authAPI = {\r\n\tchecksLogin() {\r\n\t\treturn instance.get('auth/me')\r\n\t},\r\n\tlogin(email, password, rememberMe = false, captcha = null) {\r\n\t\treturn instance.post('auth/login', { email, password, rememberMe, captcha})\r\n\t},\r\n\tlogout() {\r\n\t\treturn instance.delete('auth/login')\r\n\t}\r\n}\r\n\r\nexport const securityAPI = {\r\n\tgetCaptcha() {\r\n\t\treturn instance.get('security/get-captcha-url')\r\n\t}\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","import { authAPI, securityAPI, usersAPI } from \"../api/api\";\r\nconst SET_USER_DATA = 'auth/SET_USER_DATA';\r\nconst SET_ERROR_WRONG = 'auth/SET_ERROR_WRONG';\r\nconst GET_CHAPTCHA_URL_SUCCESS = 'auth/GET_CHAPTCHA_URL_SUCCESS';\r\n\r\nlet initialState = {\r\n\tid: null,\r\n\tlogin: null,\r\n\temail: null,\r\n\tisAuth: false,\r\n\tisWrong: null,\r\n\tcaptchaUrl: null\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase SET_USER_DATA:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t...action.payload,\r\n\t\t\t}\r\n\t\tcase SET_ERROR_WRONG:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisWrong: action.data\r\n\t\t\t}\r\n\t\tcase GET_CHAPTCHA_URL_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcaptchaUrl: action.payload\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport const setAuthUserData = (id, login, email, isAuth) =>\r\n\t({ type: SET_USER_DATA, payload: { id, login, email, isAuth } });\r\n\r\nexport const getCaptchaUrlSuccess = (captchaUrl) =>\r\n\t({ type: GET_CHAPTCHA_URL_SUCCESS, payload: captchaUrl });\r\n\r\nexport const setErrorWrong = (isWrong) =>\r\n\t({ type: SET_ERROR_WRONG, data: isWrong });\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {//для замыкания что бы thunk мог достучаться до данных переданных в getUsersThunkCreator\r\n\tlet response = await authAPI.checksLogin();// дожидаемся именно промиса В респонсе будет сидеть результат которым зарезолвится промис \r\n\tif (response.data.resultCode === 0) {\r\n\t\tlet { id, login, email } = response.data.data\r\n\t\tdispatch(setAuthUserData(id, login, email, true));\r\n\t}\r\n}\r\n\r\n\r\nexport const loginTC = (email, password, rememberMe, captcha) => async (dispatch) => {\r\n\tlet response = await authAPI.login(email, password, rememberMe, captcha);\r\n\tif (response.data.resultCode === 0) {\r\n\t\tdispatch(getAuthUserData());\r\n\t\tdispatch(setErrorWrong(false));\r\n\t} else if (response.data.resultCode === 10) {\r\n\t\tdispatch(getCaptchaUrl());\r\n\t}\r\n\telse {\r\n\t\tdispatch(setErrorWrong(true));\r\n\t}\r\n}\r\n\r\nexport const getCaptchaUrl = () => async (dispatch) => {\r\n\tlet response = await securityAPI.getCaptcha();\r\n\tconst captchaUrl = response.data.url;\r\n\tdispatch(getCaptchaUrlSuccess(captchaUrl));\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n\tlet response = await authAPI.logout()\r\n\tif (response.data.resultCode === 0) {\r\n\t\tdispatch(setAuthUserData(null, null, null, false));\r\n\t}\r\n}\r\n\r\nexport default authReducer;","import { authAPI, usersAPI } from \"../api/api\";\r\nimport { getAuthUserData } from \"./auth-reducer\";\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCES';\r\n\r\nlet initialState = {\r\n\tinitialized: false\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase INITIALIZED_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tinitialized: true\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport const initializedSuccess = () =>\r\n\t({ type: INITIALIZED_SUCCESS });\r\n\r\nexport const initializeApp = () => {\r\n\treturn (dispatch) => {\r\n\t\tlet promise = dispatch(getAuthUserData());// вернули промис из auth-reducer\r\n\t\tPromise.all([promise]).then(() => {// если несколько \r\n\t\t\tdispatch(initializedSuccess());\r\n\t\t});\r\n\t\t\r\n\t}\r\n}\r\n\r\nexport default appReducer;","const ADD_MESSAGE = 'ADD-MESSAGE';\r\nconst UPDATE_NEW_MESSAGE_TEXT = 'dialogs/UPDATE-NEW-MESSAGE-TEXT'; {/*redux смотрит совпад и анализирует и выполняет action*/ }\r\n\r\nlet initialState = {\r\n\tdialogs: [\r\n\t\t{ id: 1, name: 'Ivan' },\r\n\t\t{ id: 2, name: 'Alex' },\r\n\t\t{ id: 3, name: 'Kesha' },\r\n\t\t{ id: 4, name: 'Dino' }\r\n\t],\r\n\tmessages: [\r\n\t\t{ id: 1, message: 'What you name?' },\r\n\t\t{ id: 2, message: 'Tony' },\r\n\t\t{ id: 3, message: 'Fack you Tony!' },\r\n\t\t{ id: 4, message: 'What you name?' }\r\n\t],\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase ADD_MESSAGE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tmessages: [...state.messages, { id: 5, message: action.newMessage }]\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport const addMessageActionCreator = (message) =>\r\n\t({ type: ADD_MESSAGE, newMessage: message });\r\n\r\n\r\nexport default dialogsReducer;\r\n\r\n\r\n","const ADD_NOTE = 'ADD-NOTE';\r\nconst UPDATE_NEW_NOTE_TEXT = 'note/UPDATE-NEW-NOTE-TEXT'; {/*redux смотрит совпад и анализирует и выполняет action*/ }\r\n\r\nlet initialState = {\r\n\tnote: [\r\n\t\t{ id: 1, note: 'First note' },\r\n\t\t{ id: 2, note: 'Second note' },\r\n\t\t{ id: 3, note: 'Fack you Tony!' },\r\n\t\t{ id: 4, note: 'What you name?' }\r\n\t],\r\n\tnewNoteText: ''\r\n};\r\n\r\nconst noteReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase ADD_NOTE: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tnote: [...state.note, { id: 5, note: state.newNoteText }],\r\n\t\t\t\tnewNoteText: ''\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase UPDATE_NEW_NOTE_TEXT: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tnewNoteText: action.newText\r\n\t\t\t}\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport const addNoteActionCreator = () => ({ type: ADD_NOTE });\r\n\r\nexport const updateNewNoteTextActionCreator = (textInputTextarea) =>\r\n\t({ type: UPDATE_NEW_NOTE_TEXT, newText: textInputTextarea });\r\nexport default noteReducer;","import { profileAPI } from \"../api/api\";\r\n\r\nconst ADD_POST = 'profile/ADD-POST'; {/*action type*/ } {/*используем вместо строк что бы не опечататься*/ }\r\nconst SET_USER_PROFILE = 'profile/SET_USER_PROFILE';\r\nconst SET_STATUS_TEXT = 'profile/SET_STATUS_TEXT';\r\nconst DELETE_POST = 'profile/DELETE_POST';\r\nconst SAVE_PHOTO_SUCCESS = 'profile/SAVE_PHOTO_SUCCESS';\r\n\r\nlet initialState = {\r\n\tposts: [\r\n\t\t{ id: 1, message: 'Hi, how a you?', likesCount: 15 },\r\n\t\t{ id: 2, message: 'Its my first post!', likesCount: 2 }\r\n\t],\r\n\tprofile: null,\r\n\tnewStatusText: '-----'\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase ADD_POST: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tposts: [...state.posts, { id: 5, message: action.newPost, likesCount: 0 }],\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase SET_USER_PROFILE: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tprofile: action.profile\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase SET_STATUS_TEXT: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tnewStatusText: action.statusText\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase SAVE_PHOTO_SUCCESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tprofile: {...state.profile, photos: action.photos}\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase DELETE_POST: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tposts: state.posts.filter(p => p.id != action.postId)\r\n\t\t\t};\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport const addPost = (post) =>\r\n\t({ type: ADD_POST, newPost: post });\r\n\r\nexport const setUserProfile = (profile) =>\r\n\t({ type: SET_USER_PROFILE, profile });\r\n\r\nexport const savePhotoSuccess = (photos) =>\r\n\t({ type: SAVE_PHOTO_SUCCESS, photos });\r\n\r\nexport const getUserProfileThunkCreator = (userId) => async (dispatch) => { //для замыкания что бы thunk мог достучаться до данных переданных в getUsersThunkCreator\r\n\tlet response = await profileAPI.getUserProfile(userId);\r\n\tdispatch(setUserProfile(response.data));\r\n}\r\n\r\nexport const setNewMessageTextStatus = (statusText) =>\r\n\t({ type: SET_STATUS_TEXT, statusText: statusText });\r\n\r\nexport const getStatusThuncCreator = (id) => async (dispatch) => {\r\n\tlet response = await profileAPI.getStatus(id);\r\n\tdispatch(setNewMessageTextStatus(response.data));\r\n}\r\n\r\nexport const updateTextStatusThuncCreator = (newStatusText) => async (dispatch) => {\r\n\tlet response = await profileAPI.updateStatus(newStatusText);\r\n\tif (response.data.resultCode === 0) {\r\n\t\tdispatch(setNewMessageTextStatus(newStatusText));\r\n\t}\r\n}\r\n\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n\tlet response = await profileAPI.savePhoto(file);\r\n\tif (response.data.resultCode === 0) {\r\n\t\tdispatch(savePhotoSuccess(response.data.data.photos));\r\n\t}\r\n}\r\n\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {//?берем из стейта то, что нам нужно. Не запрещено\r\n\tconst userId = getState().auth.id;\r\n\tlet response = await profileAPI.saveProfile(profile);\r\n\tif (response.data.resultCode === 0) {\r\n\t\tdispatch(getUserProfileThunkCreator(userId))\r\n\t} else {\r\n\t\t//dispatch(setErrorWrong(true));//! Нужно реализовать отображение ошибки!\r\n\t}\r\n}\r\n\r\nexport const deletePost = (postId) =>\r\n\t({ type: DELETE_POST, postId });\r\n\r\nexport default profileReducer;","let initialState = {\r\n\tfriends: [\r\n\t\t{ id: 1, name: 'Alex' },\r\n\t\t{ id: 2, name: 'Kesha' },\r\n\t\t{ id: 3, name: 'Dino' },\r\n\t]\r\n};\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n\treturn state;\r\n}\r\n\r\nexport default sidebarReducer;","import { usersAPI } from \"../api/api\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'users/SET_USERS';\r\nconst SET_CURRENT_PAGE = 'users/SET_CURRENT_PAGE';\r\nconst SET_PAGE_SIZE = 'users/SET_PAGE_SIZE';\r\nconst SET_COUNT_ALL_USERS = 'users/SET_COUNT_ALL_USERS';\r\nconst TOGGLE_IS_FETCHING = 'users/TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'users/TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\nlet initialState = {\r\n\tusers: [],\r\n\tpageSize: 10,\r\n\ttotalUserCount: 1,\r\n\tcurrentPage: 1,\r\n\tisFetching: true,\r\n\tfollowingInProgress: false\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase FOLLOW:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: state.users.map((u) => u.id === action.userId ? { ...u, followed: true } : u)\r\n\t\t\t}\r\n\t\tcase UNFOLLOW:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: state.users.map((u) => u.id === action.userId ? { ...u, followed: false } : u)\r\n\t\t\t}\r\n\t\tcase SET_USERS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: action.users\r\n\t\t\t}\r\n\t\tcase SET_CURRENT_PAGE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcurrentPage: action.currentPage\r\n\t\t\t}\r\n\t\tcase SET_COUNT_ALL_USERS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\ttotalUserCount: action.countAllUsers\r\n\t\t\t}\r\n\t\tcase SET_PAGE_SIZE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpageSize: action.pageSize\r\n\t\t\t}\r\n\t\tcase TOGGLE_IS_FETCHING:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisFetching: action.isFetching\r\n\t\t\t}\r\n\t\tcase TOGGLE_IS_FOLLOWING_PROGRESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tfollowingInProgress: action.isFetching\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport const followSucsess = (userId) => ({ type: FOLLOW, userId });\r\nexport const unfollowSucsess = (userId) => ({ type: UNFOLLOW, userId });\r\nexport const setUsers = (users) => ({ type: SET_USERS, users });\r\nexport const setCurrentPage = (currentPage) => ({ type: SET_CURRENT_PAGE, currentPage });\r\nexport const setPageSize = (pageSize) => ({ type: SET_PAGE_SIZE, pageSize });\r\nexport const setCountAllUsers = (countAllUsers) => ({ type: SET_COUNT_ALL_USERS, countAllUsers });\r\nexport const toggleIsFetching = (isFetching) => ({ type: TOGGLE_IS_FETCHING, isFetching });\r\nexport const toggleFollowingProgress = (isFetching) => ({ type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching });\r\n\r\n\r\nexport const getUsersThunkCreator = (currentPage, pageSize) => async (dispatch) => {//для замыкания что бы thunk мог достучаться до данных переданных в getUsersThunkCreator\r\n\tdispatch(toggleIsFetching(true));\r\n\tlet data = await usersAPI.getUsers(currentPage, pageSize);\r\n\tdispatch(toggleIsFetching(false));\r\n\tdispatch(setUsers(data.items));\r\n\tdispatch(setCountAllUsers(data.totalCount));\r\n}\r\n\r\nexport const getUsersOnPageSize = (pageNumber, pageSize) => async (dispatch) => {\r\n\tdispatch(setPageSize(pageSize));\r\n\tdispatch(toggleIsFetching(true));\r\n\tlet data = await usersAPI.getUsers(pageNumber, pageSize);\r\n\tdispatch(setUsers(data.items));\r\n\tdispatch(toggleIsFetching(false));\r\n}\r\n\r\nexport const getUsersOnPagechangedThunkCreator = (pageNumber, pageSize) => async (dispatch) => {\r\n\tdispatch(setCurrentPage(pageNumber));\r\n\tdispatch(toggleIsFetching(true));\r\n\tlet data = await usersAPI.getUsers(pageNumber, pageSize);\r\n\tdispatch(setUsers(data.items));\r\n\tdispatch(toggleIsFetching(false));\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n\tdispatch(toggleFollowingProgress(true));\r\n\tlet data = await apiMethod(userId);\r\n\tif (data.data.resultCode === 0) {\r\n\t\tdispatch(actionCreator(userId));\r\n\t}\r\n\tdispatch(toggleFollowingProgress(false));\r\n}\r\n\r\nexport const follow = (userId) => async (dispatch) => {\r\n\tfollowUnfollowFlow(dispatch, userId, usersAPI.setFollow.bind(usersAPI), followSucsess)\r\n}\r\nexport const unfollow = (userId) => async (dispatch) => {\r\n\tfollowUnfollowFlow(dispatch, userId, usersAPI.setUnfollow.bind(usersAPI), unfollowSucsess)\r\n}\r\n\r\n\r\nexport default usersReducer;","import { applyMiddleware, combineReducers, compose, createStore } from \"redux\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport appReducer from \"./appReducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport dialogsReducer from \"./dialogsReducer\";\r\nimport noteReducer from \"./noteReducer\";\r\nimport profileReducer from \"./profileReducer\";\r\nimport sidebarReducer from \"./sidebarReducer\";\r\nimport usersReducer from \"./usersReducer\";\r\n\r\nlet reducers = combineReducers({\r\n\tprofilePage: profileReducer,\r\n\tdialogsPage: dialogsReducer,\r\n\tsidebar: sidebarReducer,\r\n\tnote: noteReducer,\r\n\tusersPage: usersReducer,\r\n\tapp: appReducer,\r\n\tauth: authReducer,\r\n});\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nlet store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\nexport default store;\r\n","import React from \"react\";\r\nimport s from './FriendsItem.module.css';\r\n\r\nconst FriendsItem = (props) => {\r\n\treturn (\r\n\t\t<div className={s.itemFriends}>\r\n\t\t\t<div className={s.friends}>\r\n\t\t\t\t<img src=\"https://cs6.pikabu.ru/post_img/2017/07/20/9/1500560067172981119.jpg\" />\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t{props.name}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default FriendsItem;","import React from \"react\";\r\nimport s from './FriendsBlock.module.css';\r\nimport FriendsItem from './FriendsItem/FriendsItem';\r\n\r\nconst FriendsBlock = (props) => {\r\n\tlet friendsItem = props.friends.map(elementF => <FriendsItem name={elementF.name} key={elementF.id}/>)\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className={s.title}>\r\n\t\t\t\tFriends\r\n\t\t\t</div>\r\n\t\t\t<div className={s.blockFriends}>\r\n\t\t\t\t{friendsItem}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default FriendsBlock;","import React from \"react\";\r\nimport { connect } from 'react-redux';\r\nimport FriendsBlock from './FriendsBlock';\r\nimport s from './FriendsBlock.module.css';\r\nimport FriendsItem from './FriendsItem/FriendsItem';\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tfriends: state.sidebar.friends\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\r\n\t}\r\n}\r\n\r\nconst FriendsBlockContainer = connect(mapStateToProps, mapDispatchToProps)(FriendsBlock)\r\n\r\nexport default FriendsBlockContainer;","import React from \"react\";\r\nimport { Link, NavLink } from 'react-router-dom';\r\nimport FriendsBlock from './FriendsBlock/FriendsBlock';\r\nimport FriendsBlockContainer from './FriendsBlock/FriendsBlockContainer';\r\nimport s from './Navbar.module.css';\r\nconst setActive = ({isActive}) => isActive ? s.activeLink : '';\r\n\r\nconst Navbar = (props) => {\r\n\t\r\n\treturn (\r\n\t\t<nav className={s.nav}>\r\n\t\t\t<div className={s.item}>\r\n\t\t\t\t<NavLink to=\"/profile\" className={setActive}>Profile</NavLink>\r\n\t\t\t</div>\r\n\t\t\t<div className={s.item}>\r\n\t\t\t\t<NavLink to=\"/dialogs\" className={setActive}>Messages</NavLink>\r\n\t\t\t</div>\r\n\t\t\t<div className={s.item}>\r\n\t\t\t\t<NavLink to=\"/news\" className={setActive}>News</NavLink>\r\n\t\t\t</div>\r\n\t\t\t<div className={s.item}>\r\n\t\t\t\t<NavLink to=\"/music\" className={setActive}>Music</NavLink>\r\n\t\t\t</div>\r\n\t\t\t<div className={s.item}>\r\n\t\t\t\t<NavLink to=\"/notes\" className={setActive}>Notes</NavLink>\r\n\t\t\t</div>\r\n\t\t\t<div className={s.item}>\r\n\t\t\t\t<NavLink to=\"/users\" className={setActive}>Users</NavLink>\r\n\t\t\t</div>\r\n\t\t\t<div className={s.item}>\r\n\t\t\t\t<NavLink to=\"/settings\" className={setActive}>Settings</NavLink>\r\n\t\t\t</div>\r\n\t\t\t<FriendsBlockContainer />\r\n\t\t</nav>\r\n\t)\r\n}\r\nexport default Navbar;\r\n","import React from \"react\";\r\nimport s from './Settings.module.css';\r\n\r\nconst Settings = () => {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\tSettings\r\n\t\t</div>\r\n\t)\r\n}\r\nexport default Settings;","import React from \"react\";\r\nimport s from './News.module.css';\r\n\r\nconst News = () => {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\tNews\r\n\t\t</div>\r\n\t)\r\n}\r\nexport default News;","import React from \"react\";\r\nimport s from './Music.module.css';\r\n\r\nconst Music = () => {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\tMusic\r\n\t\t</div>\r\n\t)\r\n}\r\nexport default Music;","import React from \"react\";\r\nimport s from './NotesPost.module.css';\r\n\r\nconst NotesPost = (props) => {\r\n\treturn (\r\n\t\t<div className={s.notes__post}>\r\n\t\t\t{props.note}\r\n\t\t</div>\r\n\t)\r\n}\r\nexport default NotesPost;","import s from './Notes.module.css';\r\nimport NotesPost from './NotesPost/NotesPost';\r\nimport React from 'react';\r\nimport { addNoteActionCreator, updateNewNoteTextActionCreator } from '../../redux/noteReducer';\r\n\r\nconst Notes = (props) => {\r\n\tlet noteItem = props.notes.map((notesItem) => <NotesPost note={notesItem.note} key={notesItem.id} />)\r\n\r\n\r\n\tlet newNotesElement = React.createRef();\r\n/*\r\n\tlet keycheck = (event) => {\r\n\t\tprops.keycheck(event);\r\n\t}\r\n\tonKeyDown={keycheck}\r\n*/\r\n\r\nlet addNotes = () => {\r\n\tprops.addNotes()\r\n\t}\r\n\r\n\tlet onNotesTextUpdate = () => {\r\n\t\tlet textInputTextarea = newNotesElement.current.value;\r\n\t\tprops.updateNotesText(textInputTextarea);\r\n\t}\r\n\r\n\r\n\treturn (\r\n\t\t<div className={s.notes__wrapper}>\r\n\t\t\t<h2 className={s.notes__title}>My notes</h2>\r\n\t\t\t<div className={s.notes__visualBlock}>\r\n\t\t\t\t{noteItem}\r\n\t\t\t</div>\r\n\t\t\t<div className={s.notes__sendBlock}>\r\n\t\t\t\t<textarea  ref={newNotesElement} onChange={onNotesTextUpdate} value={props.newNoteText}></textarea>\r\n\t\t\t\t<button onClick={addNotes}>Send</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\nexport default Notes;","import s from './Notes.module.css';\r\nimport NotesPost from './NotesPost/NotesPost';\r\nimport React from 'react';\r\nimport { addNoteActionCreator, updateNewNoteTextActionCreator } from '../../redux/noteReducer';\r\nimport Notes from './Notes';\r\nimport { connect } from 'react-redux';\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tnotes: state.note.note,\r\n\t\tnewNoteText: state.note.newNoteText\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\taddNotes: () => {\r\n\t\t\tdispatch(addNoteActionCreator());\r\n\t\t},\r\n\t\tupdateNotesText: (textInputTextarea) => {\r\n\t\t\tlet action = updateNewNoteTextActionCreator(textInputTextarea);\r\n\t\t\tdispatch(action);\r\n\t\t},\r\n\t\t//keycheck: (event) => {\r\n\t\t//\tif (event.code == 'Enter' && state.newNoteText !== \"\") {\r\n\t\t//\t\taddNotes();\r\n\t\t//\t};\r\n\t\t//}\r\n\t}\r\n}\r\n\r\nconst NotesContainer = connect(mapStateToProps, mapDispatchToProps)(Notes)\r\n\r\nexport default NotesContainer;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAe1BMVEX///9NTU1JSUlGRkY6OjpDQ0M+Pj44ODg/Pz/U1NRHR0fq6ur6+vre3t41NTXPz8/09PStra3u7u7IyMhZWVleXl729vaTk5Pj4+Nzc3NWVlbExMSmpqaGhoZnZ2fb29u0tLSdnZ19fX2BgYGMjIxkZGSVlZWenp68vLxrM8eTAAAI30lEQVR4nO2d6ZaiOhCAB8gCCioqCq5o247v/4RXuq9JAS6QBcKcfL/mnGmwQpKqSqVS+fPHYrFYLBaLxWKxWCwWi8VisVgsFovFYhkgs3F0DI7ReNW3IBoIg3ifYIpIAUI42cdB2LdQ6hjHGSJ45Docd4QJOsTjvkVTQXhLKIaNA83ENMmH3pPzE3nRvEcjyXXet5AShGuE3zTvFw+tB6t5YuR9bN9vG+O+RRUiTfxG7Svwl2nf4rYnpu/mXxWXDq4bM9KifQUk61vkVsw39RlYWEA0cjbOCBXWsfb/3mZASjWtWQiM8D4PHgZ+HuR7XFOzrj+YyXhEFdGJ8zeq/VW0c0jlQ9BjD9IKkJanoIuy6Yu/nGao3EY0iF6cl40EObzrmOOh/Dn8AczF0IHd4uHth7/fYqiUXMd8PzWDApPzZ4HDM+xGz3ijsYPiTpqZ8XwCP8pOs4SSRCVhg4ZPBaXPUle7JrEBk9BvLmoEtJO70SifNDtgxVtp/hSYUGzwOJ0BOWnTIfpLQMG3mWmST54L16Mkb/lszueid9EhnArGvB+8r9ZPf/HPQ02NUIEu9AQe94zvxBW3FGgh8PyCz+KJmZGbmClSV8wxyZipwWau+DdihoIDTIaRNjFi8rlnwVecWSciEx2bv2yQItGFLF86479KZVND4soPMTbQ3UShZIqYM2MooSa4sqLm+TUL5jwjcXs9ZsPUF7E3ejkxgy2jB9kw9U7KJFMFM2beVeIt68d3EjSpOmEz6GNk5h1b/hplkikiZIqGyEQEI7bCoKaFpLiOQDKihfw1pq0vjuzjj6Tew/YziGnx7ykzFnIuJVOm/qtAeV8wc+h+S73n+6GSjTOIW9bCg9R7DqyFMipZB/9+H/J5uJR6z9LYecjD1q7Ue9gCpXHAvCv4piGRsofsNcZtJa6oEtF4IIMaF4xSs+7hazCiTDJVMDUvte5hazBJo6ODK5NNxlx8K1mD6WGrIgAx46EQ0ww+XFzgm/BLbjxeZ9rS4s5DNpkpdFAQr9MHm4gOFbUXKRukBk5D6NUIbx3xzSvjPJofeDIeEsv7mfN9CznXTxc8rC/YibwLjQzq37Up3z+kIhsrEd9CnhioSQv41pErsoRa8sdFN690c+SdgNu7bieeqWJuFibfxHVo2wXslH8eA+PdD1KQFOO3m0pjkBUlbE87AGRjuE6bBd4K5GyamonxQwiyvlynuQe+gvlw2LR4fgmQMXJvYtOBOodZt0KZKh2yh73Y0PcKfNiDJo/RH5YwCXrSxDfZwZxUIUvaLfNSajpOPunFyvEoMoBU9gB2iePSt2fvVuvyeYSJkWuKKlsKZXY8enrVL/MTLZ8eooZrmQe3Ui8Wbcy2dQsQbrNK+5yJePyjY7aVJjquT7I44PZxFsQZ8auHoybmRZ9eElRPNP2c+EVomZ2/ztmyOLxW/wMz1/WvGG+eHwB2C57+D94YuiZ8yRd62pBXoPZp071TPtD0Hs+4Hd9GhPuGR4Fdujduo6kh0QF9bqOLDiamyzYlyD6cyfdQNigV+oT06pP6seZfRr6/HnL/MRZ7v354e4QJ2Q/ESWtClO+XBBEfF/j3f232+T/ReyXCcbC43fLbbRGMjQ5UWCwWi8VisbxjNR9H0TGK0vlQl4OvSBfx+pz4FKFH3UREyfK8jhcGbxQ2JcovCUE+9uorYdcrXPDkMmAPPI2z+6rpSdsq7SR+Fg+wldP1CL2tmFhqJkb4Ylrm+luCNSbNA22/eARfBhLPmMVO6+Y9GunszDscW+X4Nflc7vI1eHI2Npfmh+kBvYo6NcVF3+ZGbxbL+oaMSBvJ0sw2Bsnr9v3YPoIK2+EW9uFu+Z/aSN5G8zTruFo+j0mLfeQd1vE2SGeP+FM4S4NtvM7cuy/w4imUGebvXJ9uURR7htlu+jr5YD7dnZ/tJRbPUpMSoafeE/15N+OHRr5KFB9QbT/4DsamTMfwyVbhvXnZrUXW1/b8zANCDUr2dcDUq9l3Dy3ztqZ7lSf1TRzPhG5c06pYGF3EHOnoUi+OTftOApsnVZmwL+F5rXa49r5lr1lS06oJvLdP8pWxX2mjS3q0jbtK3swI/VWgGnbV+TjprczgvlLRmn6pWRnMqgkApKdEjaw8nPBG3argWEnHwX2ctwyXpbHkUrVDaVd2Ar1N55ZxtilJgJUXxk+XpW5skzWuhFmpHrKjxYe80h6buCo1UJc+n5a8VdftsIlhaYh62mxy2Z9od4JDjgSGKnydx7DOMAm8uyz3A9SiSO8y7gTXLV5HRgMeqXC037yRQ32D95p/7Ye4VHxbf2b2tut65lP4g53k1i9gL060/2LpwAjtJu+11ETBU9TNSYCd6OzwAByouhXqGhZd767Ybw5Ltq91/tIUHhLtMtp3ApOj9QHcFsADlF63563P4Kc1HsEEZdM7P0UHTv3p+7hTMBs6P0UHr6/RdswU2onu45hQB2gqmwFKAuA+9hSuun8flL3o6RoRMBW1FM6ABRP62flK9ZZdCLia6e2aFHDJC1Kft/HNu7C/Gk6g/Inyou3AUrS8QUYloHoKUa3Nucc96vOk4J75HKpdDtCF2pcv7wC3ESkO8PFCagK1dVTCi1GprazIb+dw/H43noHzL3yNxjP2LHzY+4Va/IIIlQphBWZh77kDfKWo8G4v/t0MKKTGzb7CG4U2Oj6bKPByN1Xv5BfcjDqJyH7gwpSCMl3Dq1oqVV+icMXuqQpKyZXSUw/3r0Sud3sCL9tpyGVhOdM1ioqF8DtyJv3rmQJ+hZ2iQq78milTqv2BxbiK1ykpgawWUFBZRbQhV1HGWi2gKHau4HVfD/MjeXOFSthSR0mlUxaJ7d3p5nDPTUH5fX5bgUF1nI4qL4nYqvxcyuADS177XY28rYDf8ibvuLFJbcDCicMmogL1xwapUZf38Js+pG+gm5t5EZpCsbjbTZWIpgp+6YtsUDGfkF+QGSunBwn6X66J7HonDR6YdRg5YnIZdgLMYrFYLBaLxWKxWCwWi8VisVgsFovF8g/zH/ZKXs5oHFb8AAAAAElFTkSuQmCC\"","import React from \"react\";\r\nimport s from './User.module.css'\r\nimport userPhoto from '../../assets/images/user.png';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\n\r\nlet User = ({ user, followingInProgress, unfollow, follow}) => {\r\n\treturn  (\r\n\t\t<div>\r\n\t\t\t<div className={s.user__wrapper}>\r\n\t\t\t\t<div className={s.user__leftBlock}>\r\n\t\t\t\t\t<div className={s.user__foto}>\r\n\t\t\t\t\t\t<NavLink to={`profile/${user.id}`}>\r\n\t\t\t\t\t\t\t<img src={user.photos.small ? user.photos.small : userPhoto} alt=\"photo_user\" />\r\n\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className={s.user__button}>\r\n\t\t\t\t\t\t{user.followed\r\n\t\t\t\t\t\t\t? <button disabled={followingInProgress} onClick={() => {\r\n\t\t\t\t\t\t\t\tunfollow(user.id);\r\n\t\t\t\t\t\t\t}}>Unfollow</button>\r\n\t\t\t\t\t\t\t: <button disabled={followingInProgress} onClick={() => {\r\n\t\t\t\t\t\t\t\tfollow(user.id);\r\n\t\t\t\t\t\t\t}}>Follow</button>}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={s.user__rightBlock}>\r\n\t\t\t\t\t<div className={s.user__name}>{user.name}</div>\r\n\t\t\t\t\t<div className={s.user__status}>\r\n\t\t\t\t\t\t{user.status}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className={s.user__location}>\r\n\t\t\t\t\t\t<div className={s.user__locationCity}>\r\n\t\t\t\t\t\t\t{'user.location.city'}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className={s.user__locationCountry}>\r\n\t\t\t\t\t\t\t{'user.location.country'}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\nexport default User;","import { Pagination } from \"antd\";\r\nimport React from \"react\";\r\nimport Paginator from \"../common/paginator/Paginator\";\r\nimport User from \"./User\";\r\n\r\n\r\nlet Users = ({ totalUserCount, pageSize, currentPage, onPageChanged, setPageSize, ...props }) => {\r\n\tfunction onChange(pageNumber) {\r\n\t\tonPageChanged(pageNumber)\r\n\t}\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{/* <Paginator totalUserCount={totalUserCount} pageSize={pageSize} currentPage={currentPage} onPageChanged={onPageChanged} /> */}\r\n\t\t\t<Pagination showQuickJumper defaultCurrent={1} total={totalUserCount} defaultPageSize={pageSize} onChange={onChange} onShowSizeChange={props.onPageSizeChange}/>\r\n\t\t\t{\r\n\t\t\t\tprops.users.map((u) => <User\r\n\t\t\t\t\tuser={u}\r\n\t\t\t\t\tfollowingInProgress={props.followingInProgress}\r\n\t\t\t\t\tkey={u.id}\r\n\t\t\t\t\tunfollow={props.unfollow}\r\n\t\t\t\t\tfollow={props.follow}\r\n\t\t\t\t/>)\r\n\t\t\t}\r\n\t\t</div>\r\n\t)\r\n}\r\nexport default Users;\r\n","export default __webpack_public_path__ + \"static/media/Circle-Loading.385f97b7.svg\";","import React from \"react\";\r\nimport preloader from '../../../assets/images/Circle-Loading.svg'\r\nimport s from './Preloader.module.css'\r\n\r\nlet Preloader = (props) => {\r\n\treturn <div className={s.wpapperGif}>\r\n\t\t<img src={preloader} />\r\n\t</div>\r\n}\r\nexport default Preloader","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nlet mapStateToProps = (state) => ({\r\n\tisAuth: state.auth.isAuth\r\n})\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n\tclass RedirectComponent extends React.Component {\r\n\t\trender () {\r\n\t\t\tif (!this.props.isAuth) return <Redirect to={\"login\"} />\r\n\t\t\treturn <Component {...this.props} />\r\n\t\t}\r\n\t}\r\n\tlet ConnectedAuthRedirectComponent = connect(mapStateToProps)(RedirectComponent)\r\n\treturn ConnectedAuthRedirectComponent;\r\n}\r\n","import { createSelector } from \"reselect\";\r\n\r\nexport const getUsers = (state) => {\r\n\treturn state.usersPage.users;\r\n}\r\n\r\nexport const getUsersSuper = createSelector(getUsers, (users) => {\r\n\treturn users.filter(u => true);\r\n});\r\n\r\nexport const getPageSize = (state) => {\r\n\treturn state.usersPage.pageSize;\r\n}\r\n\r\nexport const getTotalUserCount = (state) => {\r\n\treturn state.usersPage.totalUserCount;\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n\treturn state.usersPage.currentPage;\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n\treturn state.usersPage.isFetching;\r\n}\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n\treturn state.usersPage.followingInProgress;\r\n}","import Users from \"./Users\";\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { follow, setCurrentPage, unfollow, toggleFollowingProgress, getUsersThunkCreator, getUsersOnPagechangedThunkCreator, setPageSize, getUsersOnPageSize } from \"../../redux/usersReducer\";\r\nimport Preloader from '../common/Preloader/Preloader';\r\nimport { withAuthRedirect } from \"../../HOC/withAuthRedirect\";\r\nimport { compose } from \"redux\";\r\nimport { getCurrentPage, getFollowingInProgress, getIsFetching, getPageSize, getTotalUserCount, getUsersSuper } from \"../../redux/users-selectors\";\r\n\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.props.getUsers(this.props.currentPage, this.props.pageSize)\r\n\t}\r\n\r\n\tonPageChanged = (pageNumber) => {\r\n\t\tthis.props.getUsersOnPagechangedThunkCreator(pageNumber, this.props.pageSize)\r\n\t\t\r\n\t}\r\n\r\n\tonPageSizeChange = (current, size) => {\r\n\t\tthis.props.getUsersOnPageSize(this.props.currentPage, size)\r\n}\r\n\r\n\trender() {\r\n\t\treturn <>\r\n\t\t\t{this.props.isFetching ? <Preloader /> : null}\r\n\t\t\t<Users\r\n\t\t\t\ttotalUserCount={this.props.totalUserCount}\r\n\t\t\t\tpageSize={this.props.pageSize}\r\n\t\t\t\tcurrentPage={this.props.currentPage}\r\n\t\t\t\tonPageChanged={this.onPageChanged}\r\n\t\t\t\tusers={this.props.users}\r\n\t\t\t\tfollow={this.props.follow}\r\n\t\t\t\tunfollow={this.props.unfollow}\r\n\t\t\t\tfollowingInProgress={this.props.followingInProgress}\r\n\t\t\t\tonPageSizeChange={this.onPageSizeChange}\r\n\t\t\t/>\r\n\t\t</>\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn ({\r\n\t\tusers: getUsersSuper(state),// Super в назв просто для примера\r\n\t\tpageSize: getPageSize(state),\r\n\t\ttotalUserCount: getTotalUserCount(state),\r\n\t\tcurrentPage: getCurrentPage(state),\r\n\t\tisFetching: getIsFetching(state),\r\n\t\tfollowingInProgress: getFollowingInProgress(state)\r\n\t})\r\n}\r\n\r\nexport default compose(\r\n\tconnect(mapStateToProps, {\r\n\t\tfollow,\r\n\t\tunfollow,\r\n\t\tsetCurrentPage,\r\n\t\ttoggleFollowingProgress,\r\n\t\tgetUsers: getUsersThunkCreator,\r\n\t\tgetUsersOnPagechangedThunkCreator,\r\n\t\tsetPageSize,\r\n\t\tgetUsersOnPageSize\r\n\t}),\r\n\t\t//withAuthRedirect\r\n)(UsersContainer)\r\n\r\n\r\n//let AuthRedirectComponent = withAuthRedirect(UsersContainer)// это наш контейнерный компонет HOC\r\n/* export default connect(mapStateToProps, {\r\n\tfollow,\r\n\tunfollow,\r\n\tsetCurrentPage,\r\n\ttoggleFollowingProgress,\r\n\tgetUsers: getUsersThunkCreator,\r\n\tgetUsersOnPagechangedThunkCreator\r\n})(AuthRedirectComponent) */\r\n\r\n/* this.props.toggleIsFetching(true);\r\n\t\tusersAPI.getUsers(this.props.currentPage, this.props.pageSize).then(data => {\r\n\t\t\tthis.props.setUsers(data.items)\r\n\t\t\tthis.props.setCountAllUsers(data.totalCount)\r\n\t\t\tthis.props.toggleIsFetching(false);\r\n\t\t}) */\r\n\r\n/* this.props.setCurrentPage(pageNumber);\r\nthis.props.toggleIsFetching(true);\r\nusersAPI.getUsers(pageNumber, this.props.pageSize).then(data => {\r\nthis.props.setUsers(data.items);\r\n\tthis.props.toggleIsFetching(false);\r\n}) */\r\n\r\n/*const mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tfollow: (userID) => {\r\n\t\t\tdispatch(followAC(userID))\r\n\t\t},\r\n\t\tunfollow: (userID) => {\r\n\t\t\tdispatch(unfollowAC(userID))\r\n\t\t},\r\n\t\tsetUsers: (user) => {\r\n\t\t\tdispatch(setUsersAC(user))\r\n\t\t},\r\n\t\tsetCurrentPage: (currentPage) => {\r\n\t\t\tdispatch(setCurrentPageAC(currentPage))\r\n\t\t},\r\n\t\tsetCountAllUsers: (countAllUsers) => {\r\n\t\t\tdispatch(setCountAllUsersAC(countAllUsers))\r\n\t\t},\r\n\t\ttoggleIsFetching: (isFetching) => {\r\n\t\t\tdispatch(toggleIsFetchingAC(isFetching))\r\n\t\t}\r\n\t\t\r\n\t}\r\n}\r\n*/","import React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { compose } from \"redux\";\r\nimport { getStatusThuncCreator, updateTextStatusThuncCreator } from \"../../../redux/profileReducer\";\r\nimport s from './ProfileInfo.module.css';\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n\tlet [editMode, setEditMode] = useState(false);\r\n\tlet [status, setStatus] = useState(props.statusText);\r\n\tuseEffect(() => {\r\n\t\tsetStatus(props.statusText)\r\n\t}, [props.statusText]);\r\n\r\n\tconst activateEditMode = () => {\r\n\t\tsetEditMode(true)\r\n\t}\r\n\r\n\tconst deactivateEditMode = () => {\r\n\t\tsetEditMode(false)\r\n\t\tprops.updateTextStatusThuncCreator(status);\r\n\t}\r\n\r\n\tconst onStatusChange = (e) => {\r\n\t\tsetStatus(e.currentTarget.value);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{!editMode &&\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<span onClick={activateEditMode}>{props.statusText}</span>\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t\t{editMode &&\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<input onChange={onStatusChange} autoFocus={true} onBlur={deactivateEditMode} value={status} />\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn ({\r\n\t\tstatusText: state.profilePage.newStatusText,\r\n\t})\r\n}\r\n\r\nexport default compose(\r\n\tconnect(mapStateToProps, { updateTextStatusThuncCreator }),\r\n\r\n)(ProfileStatusWithHooks);\r\n","import React, { useEffect } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\n\r\nconst ProfileDataForm = (props) => {\r\n\tconst { register, handleSubmit, reset, setValue, formState: { errors } } = useForm();\r\n\tconst onSubmit = data => {\r\n\t\tprops.saveProfile(data);\r\n\t\tprops.goToExitEditMode();\r\n\t}\r\n\tsetValue('fullName', props.profile.fullName)\r\n\tsetValue('aboutMe', props.profile.aboutMe)\r\n\tsetValue('lookingForAJob', props.profile.lookingForAJob)\r\n\tsetValue('lookingForAJobDescription', props.profile.lookingForAJobDescription)\r\n\tObject.keys(props.profile.contacts).forEach((key) => { setValue(`contacts.${key}`, props.profile.contacts[key])})\r\n\treturn (\r\n\t\t<form onSubmit={handleSubmit(onSubmit)}>\r\n\t\t\t<div>\r\n\t\t\t\t<button>save</button>\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<h2>Full Name:</h2>\r\n\t\t\t\t<input type=\"text\" {...register(\"fullName\")} />\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<h2>About me:</h2>\r\n\t\t\t\t<input type=\"text\" {...register(\"aboutMe\")} />\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<p>Contacts:{Object.keys(props.profile.contacts).map(key => {\r\n\t\t\t\t\treturn <p>{key}: <input type=\"text\" {...register(`contacts.${key}`)} /></p>\r\n\t\t\t\t})}</p>\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<h2>Looking for a job?</h2>\r\n\t\t\t\t<input type=\"checkbox\" {...register(\"lookingForAJob\")} />\r\n\t\t\t\t<label> yes</label>\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<h2>Looking for a job description</h2>\r\n\t\t\t\t<input type=\"text\" {...register(\"lookingForAJobDescription\")} />\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t)\r\n}\r\n\r\nexport default ProfileDataForm;","import React from \"react\";\r\nimport Preloader from '../../common/Preloader/Preloader';\r\nimport s from './ProfileInfo.module.css';\r\nimport * as axios from 'axios';\r\nimport ProfileStatusWithHoocs from './ProfileStatusWithHoocs';\r\nimport userPhoto from '../../../assets/images/user.png';\r\nimport { useState } from 'react';\r\nimport ProfileDataForm from \"./ProfileDataForm\";\r\n\r\nconst ProfileInfo = (props) => {\r\n\r\n\tlet [editMode, setEditMode] = useState(false);\r\n\r\n\tif (!props.profile) {\r\n\t\treturn <Preloader />\r\n\t}\r\n\r\n\tconst onMainPhotoSelected = (e) => {\r\n\t\tif (e.target.files.length) {\r\n\t\t\tprops.savePhoto(e.target.files[0]);\r\n\t\t}\r\n\t}\r\n\r\n\t\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{/* <div className={s.image}>\r\n\t\t\t\t<img src=\"https://static.dw.com/image/18813153_303.jpg\" alt=\"\" />\r\n\t\t\t</div> */}\r\n\t\t\t<div className={s.discriptionBlock}>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<img src={props.profile.photos.large || userPhoto} alt=\"avatar\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t{props.isOwner && <input type=\"file\" onChange={onMainPhotoSelected} />}\r\n\t\t\t\t<ProfileStatusWithHoocs />\r\n\t\t\t\t{editMode ? <ProfileDataForm goToExitEditMode={() => { setEditMode(false) }}  {...props} /> : <ProfileData  goToEditMode={() => { setEditMode(true) }} {...props} />}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst ProfileData = (props) => {\r\n\treturn(\r\n\t\t<div>\r\n\t\t\t{props.isOwner && <div>\r\n\t\t\t\t<button onClick={props.goToEditMode}>edit profile</button>\r\n\t\t\t</div>}\r\n\t\t\t<div>\r\n\t\t\t\t<h1>{props.profile.fullName}</h1>\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<h2>About me:</h2>\r\n\t\t\t\t<p>{props.profile.aboutMe}</p>\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<h2>Contacts:</h2>\r\n\t\t\t\t<ul>\r\n\t\t\t\t\t<li>{props.profile.contacts.facebook}</li>\r\n\t\t\t\t\t<li>{props.profile.contacts.website}</li>\r\n\t\t\t\t\t<li>{props.profile.contacts.vk}</li>\r\n\t\t\t\t\t<li>{props.profile.contacts.twitter}</li>\r\n\t\t\t\t\t<li>{props.profile.contacts.instagram}</li>\r\n\t\t\t\t\t<li>{props.profile.contacts.youtube}</li>\r\n\t\t\t\t\t<li>{props.profile.contacts.github}</li>\r\n\t\t\t\t\t<li>{props.profile.contacts.mainLink}</li>\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<h2>Looking for a job?</h2>\r\n\t\t\t\t<p>{props.profile.lookingForAJob ? 'yes' : 'no'}</p>\r\n\t\t\t\t<h2>Looking for a job description:</h2>\r\n\t\t\t\t<p>{props.profile.lookingForAJobDescription}</p>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\n\r\n\r\n\r\nexport default ProfileInfo;\r\n","import React from \"react\";\r\nimport s from './Post.module.css';\r\nconst Post = (props) => {\r\n\r\n\treturn (\r\n\t<div className={s.item}>\r\n\t\t<img src=\"https://yt3.ggpht.com/ytc/AKedOLQ6xaEG8GLRO1JWBwMuGk_0kqX26eKrotXaqad76g=s900-c-k-c0x00ffffff-no-rj\" alt=\"\" />\r\n\t\t{ props.message}\r\n\t\t<div>\r\n\t\t\t\t<span>like</span> {props.likesCount}\r\n\t\t</div>\r\n\t</div>\r\n\t)\r\n}\r\nexport default Post;","import s from './MyPosts.module.css';\r\nimport Post from './Post/Post';\r\nimport React, { memo } from 'react';\r\nimport { useForm } from \"react-hook-form\";\r\n\r\n\r\nconst MyPosts = React.memo(props => {\r\n\tconsole.log('RENDER')\r\n\tlet postsElement = props.posts.map(p => <Post message={p.message} key={p.id} likesCount={p.likesCount} />)\r\n\r\n\treturn (\r\n\t\t<div className={s.postsBlock}>\r\n\t\t\t<div>\r\n\t\t\t\t<h3>\r\n\t\t\t\t\tMy posts\r\n\t\t\t\t</h3>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<AddPostForm {...props} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={s.messageBlock}>\r\n\t\t\t\t\t{postsElement}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n})\r\n\r\nconst AddPostForm = (props) => {\r\n\tconst { register, handleSubmit, reset, formState: { errors } } = useForm({mode: 'onBlur'});\r\n\tconst onSubmit = data => {\r\n\t\tprops.addPost(data.post)\r\n\t\treset();\r\n\t}\r\n\treturn (\r\n\t\t<form onSubmit={handleSubmit(onSubmit)}>\r\n\t\t\t<div className={s.formBlock}>\r\n\t\t\t\t<textarea className={errors?.post && s.error} {...register(\"post\", {\r\n\t\t\t\t\trequired: 'Field is requared',\r\n\t\t\t\t\tmaxLength: {\r\n\t\t\t\t\t\tvalue: 30,\r\n\t\t\t\t\t\tmessage: 'Max length is 30 symbols'}\r\n\t\t\t\t})} />\r\n\t\t\t</div>\r\n\t\t\t<div style={{color: 'red'}}>\r\n\t\t\t\t{errors?.post && <p>{errors?.post?.message || \"Error!\"}</p>}\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<input type=\"submit\" value=\"Add post\" />\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t)\r\n}\r\n\r\nexport default MyPosts;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { addPost} from '../../../redux/profileReducer';\r\nimport MyPosts from './MyPosts';\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tposts: state.profilePage.posts,\r\n\t\tnewPostText: state.profilePage.newPostText\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\taddPost: (post) => {\r\n\t\t\tdispatch(addPost(post));\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts)\r\n\r\nexport default MyPostsContainer;","import React from \"react\";\r\nimport s from './Profile.module.css';\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo';\r\nimport MyPostsContainer from './MyPosts/MyPostsContainer';\r\n\r\n\r\n\r\nconst Profile = (props) => {\r\n\treturn (\r\n\t\t<div className={s.pad}>\r\n\t\t\t<ProfileInfo saveProfile={props.saveProfile} isOwner={props.isOwner} profile={props.profile} savePhoto={props.savePhoto} />\r\n\t\t\t<MyPostsContainer />\r\n\t\t</div>\r\n\t)\r\n}\r\nexport default Profile;","import React from \"react\";\r\nimport Profile from \"./Profile\";\r\nimport { connect } from \"react-redux\";\r\nimport { getStatusThuncCreator, getUserProfileThunkCreator, savePhoto, saveProfile, setUserProfile } from \"../../redux/profileReducer\";\r\nimport { withRouter } from \"react-router-dom/cjs/react-router-dom.min\";\r\nimport { withAuthRedirect } from \"../../HOC/withAuthRedirect\";\r\nimport { compose } from \"redux\";\r\n\r\n\r\n\r\nclass ProfileContainer extends React.Component {\r\n\trefreshProfile() {\r\n\t\tlet userId = this.props.match.params.userId;\r\n\t\tif (!userId) {\r\n\t\t\tuserId = this.props.userId;\r\n\t\t}\r\n\t\tthis.props.getUserProfileThunkCreator(userId)\r\n\t\tthis.props.getStatusThuncCreator(userId)\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.refreshProfile();\r\n\t}\r\n\tcomponentDidUpdate(prevProps, prevState, snapshot) {\r\n\t\tif (this.props.match.params.userId != prevProps.match.params.userId) {//только если предыдущ пропсы не равны\r\n\t\t\tthis.refreshProfile();\r\n\t\t}\r\n\t\t\r\n\t}\r\n\trender () {\r\n\t\treturn (\r\n\t\t\t<Profile isOwner={!this.props.match.params.userId} {...this.props} profile={this.props.profile} savePhoto={this.props.savePhoto}/>\r\n\t\t)\r\n\t}\r\n}\r\n\r\n//let AuthRedirectComponent = withAuthRedirect(ProfileContainer)// это наш контейнерный компонет его рисует ithUrlDataContainerComponent, а он рисует ProfileContainer \r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn ({\r\n\t\tprofile: state.profilePage.profile,\r\n\t\tuserId: state.auth.id,\r\n\t\tisAuth: state.auth.IsAuth\r\n\t})\r\n}\r\n\r\n//let WithUrlDataContainerComponent = withRouter(AuthRedirectComponent)\r\n\r\n//export default connect(mapStateToProps, { setUserProfile, getUserProfileThunkCreator })(WithUrlDataContainerComponent);\r\n\r\nexport default compose(\r\n\tconnect(mapStateToProps, { setUserProfile, getUserProfileThunkCreator, getStatusThuncCreator, savePhoto, saveProfile }),\r\n\twithRouter,\r\n\twithAuthRedirect,\r\n)(ProfileContainer)\r\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport s from './Header.module.css';\r\nimport { Button, Space } from 'antd';\r\nimport { PoweroffOutlined } from '@ant-design/icons';\r\n\r\n\r\nconst Header = (props) => {\r\n\treturn (\r\n\t\t<header className={s.header}>\r\n\t\t\t<div>\r\n\t\t\t\t<img src=\"https://images.theconversation.com/files/93616/original/image-20150902-6700-t2axrz.jpg?ixlib=rb-1.1.0&q=45&auto=format&w=1000&fit=clip\" alt=\"\" />\r\n\t\t\t</div>\r\n\t\t\t<div className={s.login__block}>\r\n\t\t\t\t{props.isAuth \r\n\t\t\t\t\t? <div>\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t{`${props.login} `}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\ticon={<PoweroffOutlined />}\r\n\t\t\t\t\t\t\t\tonClick={() => {props.logout()}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t: <NavLink to={'/login'}>Login</NavLink>}\r\n\t\t\t</div>\r\n\t\t</header>\r\n\t)\r\n}\r\n\r\nexport default Header;","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport { connect } from \"react-redux\";\r\nimport { logout } from \"../../redux/auth-reducer\"; \r\n\r\n\r\nclass HeaderContainer extends React.Component {\r\n\trender() {\r\n\t\treturn <Header {...this.props} />\r\n\t}\r\n}\r\nconst mapStateToProps = (state) => ({\r\n\tisAuth: state.auth.isAuth,\r\n\tlogin: state.auth.login\r\n})\r\n\r\nexport default connect(mapStateToProps, { logout })(HeaderContainer);","import React from \"react\";\r\nimport { useForm, Controller } from \"react-hook-form\";\r\nimport s from './Login.module.css';\r\nimport { Form, Input, Button, Checkbox } from 'antd';\r\nimport { connect } from \"react-redux\";\r\nimport { loginTC } from \"../../redux/auth-reducer\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nconst Loginform = ({ isWrong, onSubmitCall, captchaUrl}) => {\r\n\tconst { control, register, handleSubmit, reset, formState: { errors } } = useForm();\r\n\tconst onSubmit = (formData) => {\r\n\t\tconsole.log(formData);\r\n\t\tonSubmitCall(formData);\r\n\t\treset();\r\n\t}\r\n\treturn (\r\n\t\t<div className={s.formBlock}>\r\n\t\t\t<form onSubmit={handleSubmit(onSubmit)}>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{isWrong && <p>login/password incorrect</p>}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Controller\r\n\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\tcontrol={control}\r\n\t\t\t\t\t\trules={{ required: 'First name required' }}\r\n\t\t\t\t\t\trender={({ field: { onChange, value } }) => (\r\n\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\tvalue={value}\r\n\t\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\t\tplaceholder=\"login\"\r\n\t\t\t\t\t\t\t\tclassName={(errors?.email || isWrong) && s.error}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Controller\r\n\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\tcontrol={control}\r\n\t\t\t\t\t\trules={{ required: true }}\r\n\t\t\t\t\t\trender={({ field: { onChange, value } }) => (\r\n\t\t\t\t\t\t\t<Input.Password\r\n\t\t\t\t\t\t\t\tvalue={value}\r\n\t\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\t\tplaceholder=\"password\"\r\n\t\t\t\t\t\t\t\tclassName={(errors?.password || isWrong) && s.error}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Controller\r\n\t\t\t\t\t\tdefaultValue=\"false\"\r\n\t\t\t\t\t\tname=\"rememberMe\"\r\n\t\t\t\t\t\tcontrol={control}\r\n\t\t\t\t\t\trender={({ field: { onChange, value } }) => (\r\n\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\tvalue={value}\r\n\t\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\t>Remember me</Checkbox>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t{captchaUrl && <img src={captchaUrl} />}\r\n\t\t\t\t{captchaUrl && <input type=\"text\" {...register(\"captcha\")} />}\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\" onSubmit={handleSubmit(onSubmit)}>\r\n\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\n\r\n\r\nconst Login = (props) => {\r\n\tconst onSubmitCall = formData => {\r\n\t\tprops.loginTC(formData.email, formData.password, formData.rememberMe, formData.captcha);\r\n\t}\r\n\tif (props.isAuth) {\r\n\t\treturn <Redirect to={\"/profile\"} />\r\n\t}\r\n\treturn <div>\r\n\t\t<h1 className={s.title}>Login</h1>\r\n\t\t<Loginform isWrong={props.isWrong} onSubmitCall={onSubmitCall} captchaUrl={props.captchaUrl}/>\r\n\t</div>\r\n}\r\nconst mapStateToProps= (state) => ({\r\n\tisAuth: state.auth.isAuth,\r\n\tisWrong: state.auth.isWrong,\r\n\tcaptchaUrl: state.auth.captchaUrl\r\n})\r\nexport default connect(mapStateToProps, { loginTC}) (Login);\r\n\r\n","import React from \"react\";\r\nimport { NavLink } from 'react-router-dom';\r\nimport s from './DialogItem.module.css';\r\n\r\nconst DialogItem = (props) => {\r\n\treturn(\r\n\t\t<div className={s.nameChat}>\r\n\t\t\t<NavLink to={\"/dialogs/\" + props.id}><img src=\"https://yt3.ggpht.com/ytc/AKedOLQ6xaEG8GLRO1JWBwMuGk_0kqX26eKrotXaqad76g=s900-c-k-c0x00ffffff-no-rj\" alt=\"\" />{props.name}</NavLink>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default DialogItem","import s from './Message.module.css';\r\n\r\nconst Message = (props) => {\r\n\treturn (\r\n\t\t<div className={s.message}>{props.message}</div>\r\n\t)\r\n}\r\n\r\nexport default Message;","import DialogItem from './DialogItem/DialogItem';\r\nimport s from './Dialogs.module.css';\r\nimport Message from './Message/Message';\r\nimport React from 'react';\r\nimport { useForm } from \"react-hook-form\";\r\n\r\n\r\n\r\nconst Dialogs = (props) => {\r\n\tlet dialogsElements = props.dialogs.map((d) => <DialogItem id={d.id} key={d.id} name={d.name} />)\r\n\tlet messagesElements = props.messages.map((m) => <Message message={m.message} key={m.id} />)\r\n\r\n\treturn (\r\n\t\t<div className={s.dialogs}>\r\n\t\t\t<div className={s.dialogs__item}>\r\n\t\t\t\t{dialogsElements}\t\r\n\t\t\t</div>\r\n\t\t\t<div className={s.messages}>\r\n\t\t\t\t{messagesElements}\r\n\t\t\t</div>\r\n\t\t\t<div className={s.dialogInput}>\r\n\t\t\t\t<AddMessageForm {...props} />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\n\r\nconst AddMessageForm = (props) => {\r\n\tconst { register, handleSubmit, reset, formState: { errors } } = useForm();\r\n\tconst onSubmit = data => {\r\n\t\tprops.addMessage(data.message);\r\n\t\treset();\r\n\t}\r\n\treturn (\r\n\t\t<form onSubmit={handleSubmit(onSubmit)}>\r\n\t\t\t\t<textarea  {...register(\"message\")} />\r\n\t\t\t<input type=\"submit\" value=\"send\" />\r\n\t\t</form>\r\n\t)\r\n}\r\n\r\nexport default Dialogs;","import { NavLink, Redirect } from 'react-router-dom';\r\nimport DialogItem from './DialogItem/DialogItem';\r\nimport Message from './Message/Message';\r\nimport React from 'react';\r\nimport { addMessageActionCreator } from '../../redux/dialogsReducer';\r\nimport Dialogs from './Dialogs';\r\nimport { connect } from 'react-redux';\r\nimport { withAuthRedirect } from '../../HOC/withAuthRedirect';\r\nimport { compose } from 'redux';\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tdialogs: state.dialogsPage.dialogs,\r\n\t\tmessages: state.dialogsPage.messages,\r\n\t\tisAuth: state.auth.isAuth\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\taddMessage: (message) => {\r\n\t\t\tdispatch(addMessageActionCreator(message));\r\n\t\t}\r\n\t}\r\n}\r\n\r\n//let AuthRedirectComponent = withAuthRedirect(Dialogs)// это наш контейнерный компонет его рисует ithUrlDataContainerComponent, а он рисует ProfileContainer \r\n\r\n//const DialogsContainer = connect(mapStateToProps, mapDispatchToProps)(AuthRedirectComponent)\r\n\r\n\r\nexport default compose (\r\n\tconnect(mapStateToProps, mapDispatchToProps),\r\n\twithAuthRedirect,\r\n) (Dialogs);","import React, { Suspense } from \"react\";\r\nimport \"antd/dist/antd.css\";\r\nimport './App.css';\r\nimport Navbar from './components/Navbar/Navbar';\r\nimport Settings from './components/Settings/Settings';\r\nimport News from './components/News/News';\r\nimport Music from './components/Music/Music';\r\nimport NotesContainer from './components/Notes/NotesContainer';\r\nimport UsersContainer from './components/Users/UsersContainer';\r\nimport ProfileContainer from './components/Profile/ProfileContainer';\r\nimport { Route } from 'react-router-dom';\r\nimport HeaderContainer from './components/Header/HeaderContainer';\r\nimport LoginPage from './components/Login/Login';\r\nimport { connect } from \"react-redux\";\r\nimport { initializeApp } from \"./redux/appReducer\";\r\nimport Preloader from \"./components/common/Preloader/Preloader\";\r\nimport { compose } from \"redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport DialogsContainer from './components/Dialogs/DialogsContainer';\r\nimport { withSuspense } from \"./HOC/withSuspense\";\r\n//const DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\r\n\r\n\r\n\r\nclass App extends React.Component {\r\n  componentDidMount() {\r\n    this.props.initializeApp();\r\n  }\r\n  render() {\r\n    if (!this.props.initialized) {\r\n      return (<Preloader />)\r\n    }\r\n    return (\r\n        <div className=\"app-wrapper\">\r\n          <HeaderContainer />\r\n          <Navbar />\r\n          <div className='app-wrapper-content'>\r\n          <Route path=\"/dialogs\" render={ withSuspense(DialogsContainer) } />{/* Обернули HOC */} \r\n            <Route path=\"/profile/:userId?\" render={() => <ProfileContainer />} />\r\n            <Route path=\"/news\" render={() => <News />} />\r\n            <Route path=\"/music\" render={() => <Music />} />\r\n            <Route path=\"/notes\" render={() => <NotesContainer />} />\r\n            <Route path=\"/users\" render={() => <UsersContainer />} />\r\n            <Route path=\"/settings\" render={() => <Settings />} />\r\n            <Route path=\"/login\" render={() => <LoginPage />} />\r\n          <Route path=\"/\" render={() => <ProfileContainer />} />\r\n          </div>\r\n        </div>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = (state) => ({\r\n  initialized: state.app.initialized\r\n\r\n})\r\nexport default compose(\r\n  withRouter,\r\n  connect(mapStateToProps, { initializeApp }))(App);","import React, { Suspense } from \"react\";\r\n\r\nexport const withSuspense = (Component) => {\r\n\r\n\treturn (props) => {\r\n\t\treturn <Suspense fallback={<div>Загрузка...</div>}>\r\n\t\t\t<Component {...props} />\r\n\t\t</Suspense>\r\n\t}\r\n}\r\n","import reportWebVitals from './reportWebVitals';\nimport store from './redux/redux-store';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom';\n\n\n\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<BrowserRouter basename={process.env.PUBLIC_URL}>\n\t\t\t<Provider store={store}>\n\t\t\t\t<App />\n\t\t\t</Provider>\n\t\t</BrowserRouter>\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n\n/*rerenderEntireTree(store.getState());\nstore.subscribe(rerenderEntireTree);\nstore redux не умеет передавть стор, поэтому мы через анонимную функцию это сделаем*/\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user__wrapper\":\"User_user__wrapper__1vcrP\",\"user__leftBlock\":\"User_user__leftBlock__3iQbI\",\"user__rightBlock\":\"User_user__rightBlock__1qDl1\",\"user__foto\":\"User_user__foto__13quP\",\"user__button\":\"User_user__button__3pLcR\",\"user__name\":\"User_user__name__3b3rv\",\"user__location\":\"User_user__location__30MDn\",\"user__locationCity\":\"User_user__locationCity__2Lbz5\",\"user__locationCountry\":\"User_user__locationCountry__Nk4IE\",\"user__status\":\"User_user__status__2dS5k\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__1pM_z\",\"item\":\"Navbar_item__1ismi\",\"activeLink\":\"Navbar_activeLink__27L8N\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"notes__wrapper\":\"Notes_notes__wrapper__JihYO\",\"notes__title\":\"Notes_notes__title__2EFCQ\",\"notes__visualBlock\":\"Notes_notes__visualBlock__2RSOb\",\"notes__sendBlock\":\"Notes_notes__sendBlock__1c81h\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__hZDAG\",\"messageBlock\":\"MyPosts_messageBlock__WsGmt\",\"error\":\"MyPosts_error__2l0HC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formBlock\":\"Login_formBlock__3ddug\",\"title\":\"Login_title__lau2c\",\"error\":\"Login_error__1sfQt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__1pvPu\",\"dialogs__item\":\"Dialogs_dialogs__item__1h8Mb\",\"dialog\":\"Dialogs_dialog__3X4PV\",\"active\":\"Dialogs_active__32DQC\",\"messages\":\"Dialogs_messages__2oy_z\",\"dialogInput\":\"Dialogs_dialogInput__3x-dx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"FriendsBlock_title__15gTh\",\"blockFriends\":\"FriendsBlock_blockFriends__16l4X\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"count__wrapper\":\"Paginator_count__wrapper__37n73\",\"bold\":\"Paginator_bold__3b_Ip\",\"pageNumber\":\"Paginator_pageNumber__1zEB-\"};"],"sourceRoot":""}