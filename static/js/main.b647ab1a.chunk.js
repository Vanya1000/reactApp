(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{104:function(e,t,n){e.exports={itemFriends:"FriendsItem_itemFriends__1i93p"}},108:function(e,t,n){e.exports={header:"Header_header__1GGgj",login__block:"Header_login__block__1B7di"}},132:function(e,t,n){e.exports={notes__post:"NotesPost_notes__post__3aNrg"}},143:function(e,t,n){e.exports={wpapperGif:"Preloader_wpapperGif__pCb4x"}},144:function(e,t,n){e.exports={pad:"Profile_pad__1cBfN"}},145:function(e,t,n){e.exports={item:"Post_item__2HPe9"}},149:function(e,t,n){e.exports={nameChat:"DialogItem_nameChat__1Vj6G"}},150:function(e,t,n){e.exports={message:"Message_message__xTsZN"}},180:function(e,t,n){},182:function(e,t,n){},192:function(e,t,n){},193:function(e,t,n){},194:function(e,t,n){},263:function(e,t,n){"use strict";n.r(t);var r=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,271)).then((function(t){var n=t.getCLS,r=t.getFID,s=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),s(e),a(e),i(e)}))},s=n(26),a=n(129),i=n(2),c=n(78),o=c.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"70e8e5ed-ff03-4d7b-b77d-74a34aff6348"}}),u={getUsers:function(e,t){return o.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},setFollow:function(e){return o.post("follow/".concat(e))},setUnfollow:function(e){return o.delete("follow/".concat(e))}},l=function(e){return o.get("profile/".concat(e))},d=function(e){return o.get("profile/status/".concat(e))},j=function(e){return o.put("profile/status",{status:e})},p=function(){return o.get("auth/me")},b=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return o.post("auth/login",{email:e,password:t,rememberMe:n})},f=function(){return o.delete("auth/login")},h=n(8),O=n.n(h),g=n(18),x="auth/SET_USER_DATA",m="auth/SET_ERROR_WRONG",v={id:null,login:null,email:null,isAuth:!1,isWrong:null},_=function(e,t,n,r){return{type:x,payload:{id:e,login:t,email:n,isAuth:r}}},w=function(e){return{type:m,data:e}},S=function(){return function(){var e=Object(g.a)(O.a.mark((function e(t){var n,r,s,a,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:0===(n=e.sent).data.resultCode&&(r=n.data.data,s=r.id,a=r.login,i=r.email,t(_(s,a,i,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(i.a)(Object(i.a)({},e),t.payload);case m:return Object(i.a)(Object(i.a)({},e),{},{isWrong:t.data});default:return e}},y="INITIALIZED_SUCCES",C={initialized:!1},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;return t.type===y?Object(i.a)(Object(i.a)({},e),{},{initialized:!0}):e},k=n(11),T="ADD-MESSAGE",A={dialogs:[{id:1,name:"Ivan"},{id:2,name:"Alex"},{id:3,name:"Kesha"},{id:4,name:"Dino"}],messages:[{id:1,message:"What you name?"},{id:2,message:"Tony"},{id:3,message:"Fack you Tony!"},{id:4,message:"What you name?"}]},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;return t.type===T?Object(i.a)(Object(i.a)({},e),{},{messages:[].concat(Object(k.a)(e.messages),[{id:5,message:t.newMessage}])}):e},E="ADD-NOTE",F="note/UPDATE-NEW-NOTE-TEXT",I={note:[{id:1,note:"First note"},{id:2,note:"Second note"},{id:3,note:"Fack you Tony!"},{id:4,note:"What you name?"}],newNoteText:""},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return Object(i.a)(Object(i.a)({},e),{},{note:[].concat(Object(k.a)(e.note),[{id:5,note:e.newNoteText}]),newNoteText:""});case F:return Object(i.a)(Object(i.a)({},e),{},{newNoteText:t.newText});default:return e}},M="profile/ADD-POST",B="profile/SET_USER_PROFILE",R="profile/SET_STATUS_TEXT",L="profile/DELETE_POST",z={posts:[{id:1,message:"Hi, how a you?",likesCount:15},{id:2,message:"Its my first post!",likesCount:2}],profile:null,newStatusText:"-----"},G=function(e){return{type:B,profile:e}},W=function(e){return{type:R,statusText:e}},Z=function(e){return function(){var t=Object(g.a)(O.a.mark((function t(n){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j(e);case 2:0===t.sent.data.resultCode&&n(W(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:return Object(i.a)(Object(i.a)({},e),{},{posts:[].concat(Object(k.a)(e.posts),[{id:5,message:t.newPost,likesCount:0}])});case B:return Object(i.a)(Object(i.a)({},e),{},{profile:t.profile});case R:return Object(i.a)(Object(i.a)({},e),{},{newStatusText:t.statusText});case L:return Object(i.a)(Object(i.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!=t.postId}))});default:return e}},H={friends:[{id:1,name:"Alex"},{id:2,name:"Kesha"},{id:3,name:"Dino"}]},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H;return e},Q="FOLLOW",J="UNFOLLOW",q="users/SET_USERS",V="users/SET_CURRENT_PAGE",Y="users/SET_PAGE_SIZE",$="users/SET_COUNT_ALL_USERS",ee="users/TOGGLE_IS_FETCHING",te="users/TOGGLE_IS_FOLLOWING_PROGRESS",ne={users:[],pageSize:10,totalUserCount:1,currentPage:1,isFetching:!0,followingInProgress:!1},re=function(e){return{type:Q,userId:e}},se=function(e){return{type:J,userId:e}},ae=function(e){return{type:q,users:e}},ie=function(e){return{type:V,currentPage:e}},ce=function(e){return{type:Y,pageSize:e}},oe=function(e){return{type:ee,isFetching:e}},ue=function(e){return{type:te,isFetching:e}},le=function(){var e=Object(g.a)(O.a.mark((function e(t,n,r,s){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(ue(!0)),e.next=3,r(n);case 3:0===e.sent.data.resultCode&&t(s(n)),t(ue(!1));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,s){return e.apply(this,arguments)}}(),de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:return Object(i.a)(Object(i.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(i.a)(Object(i.a)({},e),{},{followed:!0}):e}))});case J:return Object(i.a)(Object(i.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(i.a)(Object(i.a)({},e),{},{followed:!1}):e}))});case q:return Object(i.a)(Object(i.a)({},e),{},{users:t.users});case V:return Object(i.a)(Object(i.a)({},e),{},{currentPage:t.currentPage});case $:return Object(i.a)(Object(i.a)({},e),{},{totalUserCount:t.countAllUsers});case Y:return Object(i.a)(Object(i.a)({},e),{},{pageSize:t.pageSize});case ee:return Object(i.a)(Object(i.a)({},e),{},{isFetching:t.isFetching});case te:return Object(i.a)(Object(i.a)({},e),{},{followingInProgress:t.isFetching});default:return e}},je=Object(s.b)({profilePage:X,dialogsPage:U,sidebar:K,note:D,usersPage:de,app:N,auth:P}),pe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.c,be=Object(s.d)(je,pe(Object(s.a)(a.a))),fe=n(0),he=n.n(fe),Oe=n(32),ge=n.n(Oe),xe=(n(180),n(13)),me=n(14),ve=n(16),_e=n(15),we=(n(181),n(182),n(23)),Se=n(81),Pe=n.n(Se),ye=n(104),Ce=n.n(ye),Ne=n(1),ke=function(e){return Object(Ne.jsxs)("div",{className:Ce.a.itemFriends,children:[Object(Ne.jsx)("div",{className:Ce.a.friends,children:Object(Ne.jsx)("img",{src:"https://cs6.pikabu.ru/post_img/2017/07/20/9/1500560067172981119.jpg"})}),Object(Ne.jsx)("div",{children:e.name})]})},Te=function(e){var t=e.friends.map((function(e){return Object(Ne.jsx)(ke,{name:e.name},e.id)}));return Object(Ne.jsxs)("div",{children:[Object(Ne.jsx)("div",{className:Pe.a.title,children:"Friends"}),Object(Ne.jsx)("div",{className:Pe.a.blockFriends,children:t})]})},Ae=n(19),Ue=Object(Ae.b)((function(e){return{friends:e.sidebar.friends}}),(function(e){return{}}))(Te),Ee=n(40),Fe=n.n(Ee),Ie=function(e){return e.isActive?Fe.a.activeLink:""},De=function(e){return Object(Ne.jsxs)("nav",{className:Fe.a.nav,children:[Object(Ne.jsx)("div",{className:Fe.a.item,children:Object(Ne.jsx)(we.b,{to:"/profile",className:Ie,children:"Profile"})}),Object(Ne.jsx)("div",{className:Fe.a.item,children:Object(Ne.jsx)(we.b,{to:"/dialogs",className:Ie,children:"Messages"})}),Object(Ne.jsx)("div",{className:Fe.a.item,children:Object(Ne.jsx)(we.b,{to:"/news",className:Ie,children:"News"})}),Object(Ne.jsx)("div",{className:Fe.a.item,children:Object(Ne.jsx)(we.b,{to:"/music",className:Ie,children:"Music"})}),Object(Ne.jsx)("div",{className:Fe.a.item,children:Object(Ne.jsx)(we.b,{to:"/notes",className:Ie,children:"Notes"})}),Object(Ne.jsx)("div",{className:Fe.a.item,children:Object(Ne.jsx)(we.b,{to:"/users",className:Ie,children:"Users"})}),Object(Ne.jsx)("div",{className:Fe.a.item,children:Object(Ne.jsx)(we.b,{to:"/settings",className:Ie,children:"Settings"})}),Object(Ne.jsx)(Ue,{})]})},Me=(n(192),function(){return Object(Ne.jsx)("div",{children:"Settings"})}),Be=(n(193),function(){return Object(Ne.jsx)("div",{children:"News"})}),Re=(n(194),function(){return Object(Ne.jsx)("div",{children:"Music"})}),Le=n(58),ze=n.n(Le),Ge=n(132),We=n.n(Ge),Ze=function(e){return Object(Ne.jsx)("div",{className:We.a.notes__post,children:e.note})},Xe=function(e){var t=e.notes.map((function(e){return Object(Ne.jsx)(Ze,{note:e.note},e.id)})),n=he.a.createRef();return Object(Ne.jsxs)("div",{className:ze.a.notes__wrapper,children:[Object(Ne.jsx)("h2",{className:ze.a.notes__title,children:"My notes"}),Object(Ne.jsx)("div",{className:ze.a.notes__visualBlock,children:t}),Object(Ne.jsxs)("div",{className:ze.a.notes__sendBlock,children:[Object(Ne.jsx)("textarea",{ref:n,onChange:function(){var t=n.current.value;e.updateNotesText(t)},value:e.newNoteText}),Object(Ne.jsx)("button",{onClick:function(){e.addNotes()},children:"Send"})]})]})},He=Object(Ae.b)((function(e){return{notes:e.note.note,newNoteText:e.note.newNoteText}}),(function(e){return{addNotes:function(){e({type:E})},updateNotesText:function(t){var n=function(e){return{type:F,newText:e}}(t);e(n)}}}))(Xe),Ke=n(12),Qe=n(266),Je=(n(96),n(36)),qe=n.n(Je),Ve=function(e){var t=e.user,n=e.followingInProgress,r=e.unfollow,s=e.follow;return Object(Ne.jsx)("div",{children:Object(Ne.jsxs)("div",{className:qe.a.user__wrapper,children:[Object(Ne.jsxs)("div",{className:qe.a.user__leftBlock,children:[Object(Ne.jsx)("div",{className:qe.a.user__foto,children:Object(Ne.jsx)(we.b,{to:"profile/".concat(t.id),children:Object(Ne.jsx)("img",{src:t.photos.small?t.photos.small:"data:image/png;base64,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",alt:"photo_user"})})}),Object(Ne.jsx)("div",{className:qe.a.user__button,children:t.followed?Object(Ne.jsx)("button",{disabled:n,onClick:function(){r(t.id)},children:"Unfollow"}):Object(Ne.jsx)("button",{disabled:n,onClick:function(){s(t.id)},children:"Follow"})})]}),Object(Ne.jsxs)("div",{className:qe.a.user__rightBlock,children:[Object(Ne.jsx)("div",{className:qe.a.user__name,children:t.name}),Object(Ne.jsx)("div",{className:qe.a.user__status,children:t.status}),Object(Ne.jsxs)("div",{className:qe.a.user__location,children:[Object(Ne.jsx)("div",{className:qe.a.user__locationCity,children:"user.location.city"}),Object(Ne.jsx)("div",{className:qe.a.user__locationCountry,children:"user.location.country"})]})]})]})})},Ye=["totalUserCount","pageSize","currentPage","onPageChanged","setPageSize"],$e=function(e){var t=e.totalUserCount,n=e.pageSize,r=(e.currentPage,e.onPageChanged),s=(e.setPageSize,Object(Ke.a)(e,Ye));return Object(Ne.jsxs)("div",{children:[Object(Ne.jsx)(Qe.a,{showQuickJumper:!0,defaultCurrent:1,total:t,defaultPageSize:n,onChange:function(e){r(e)},onShowSizeChange:s.onPageSizeChange}),s.users.map((function(e){return Object(Ne.jsx)(Ve,{user:e,followingInProgress:s.followingInProgress,unfollow:s.unfollow,follow:s.follow},e.id)}))]})},et=n.p+"static/media/Circle-Loading.385f97b7.svg",tt=n(143),nt=n.n(tt),rt=function(e){return Object(Ne.jsx)("div",{className:nt.a.wpapperGif,children:Object(Ne.jsx)("img",{src:et})})},st=n(21),at=function(e){return{isAuth:e.auth.isAuth}},it=function(e){var t=function(t){Object(ve.a)(r,t);var n=Object(_e.a)(r);function r(){return Object(xe.a)(this,r),n.apply(this,arguments)}return Object(me.a)(r,[{key:"render",value:function(){return this.props.isAuth?Object(Ne.jsx)(e,Object(i.a)({},this.props)):Object(Ne.jsx)(st.Redirect,{to:"login"})}}]),r}(he.a.Component);return Object(Ae.b)(at)(t)},ct=n(156),ot=Object(ct.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),ut=function(e){return e.usersPage.pageSize},lt=function(e){return e.usersPage.totalUserCount},dt=function(e){return e.usersPage.currentPage},jt=function(e){return e.usersPage.isFetching},pt=function(e){return e.usersPage.followingInProgress},bt=function(e){Object(ve.a)(n,e);var t=Object(_e.a)(n);function n(){var e;Object(xe.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).onPageChanged=function(t){e.props.getUsersOnPagechangedThunkCreator(t,e.props.pageSize)},e.onPageSizeChange=function(t,n){e.props.getUsersOnPageSize(e.props.currentPage,n)},e}return Object(me.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return Object(Ne.jsxs)(Ne.Fragment,{children:[this.props.isFetching?Object(Ne.jsx)(rt,{}):null,Object(Ne.jsx)($e,{totalUserCount:this.props.totalUserCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,users:this.props.users,follow:this.props.follow,unfollow:this.props.unfollow,followingInProgress:this.props.followingInProgress,onPageSizeChange:this.onPageSizeChange})]})}}]),n}(he.a.Component),ft=Object(s.c)(Object(Ae.b)((function(e){return{users:ot(e),pageSize:ut(e),totalUserCount:lt(e),currentPage:dt(e),isFetching:jt(e),followingInProgress:pt(e)}}),{follow:function(e){return function(){var t=Object(g.a)(O.a.mark((function t(n){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:le(n,e,u.setFollow.bind(u),re);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollow:function(e){return function(){var t=Object(g.a)(O.a.mark((function t(n){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:le(n,e,u.setUnfollow.bind(u),se);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setCurrentPage:ie,toggleFollowingProgress:ue,getUsers:function(e,t){return function(){var n=Object(g.a)(O.a.mark((function n(r){var s;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(oe(!0)),n.next=3,u.getUsers(e,t);case 3:s=n.sent,r(oe(!1)),r(ae(s.items)),r((a=s.totalCount,{type:$,countAllUsers:a}));case 7:case"end":return n.stop()}var a}),n)})));return function(e){return n.apply(this,arguments)}}()},getUsersOnPagechangedThunkCreator:function(e,t){return function(){var n=Object(g.a)(O.a.mark((function n(r){var s;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(ie(e)),r(oe(!0)),n.next=4,u.getUsers(e,t);case 4:s=n.sent,r(ae(s.items)),r(oe(!1));case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},setPageSize:ce,getUsersOnPageSize:function(e,t){return function(){var n=Object(g.a)(O.a.mark((function n(r){var s;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(ce(t)),r(oe(!0)),n.next=4,u.getUsers(e,t);case 4:s=n.sent,r(ae(s.items)),r(oe(!1));case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}}))(bt),ht=n(144),Ot=n.n(ht),gt=n(77),xt=n.n(gt),mt=function(e){Object(ve.a)(n,e);var t=Object(_e.a)(n);function n(){var e;Object(xe.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={editMode:!1,status:e.props.statusText},e.activateEditMode=function(){e.setState({editMode:!0})},e.deactivateEditMode=function(){e.setState({editMode:!1}),e.props.updateTextStatusThuncCreator(e.state.status)},e.onStatusChange=function(t){e.setState({status:t.currentTarget.value})},e}return Object(me.a)(n,[{key:"componentDidUpdate",value:function(e,t){e.statusText!==this.props.statusText&&this.setState({status:this.props.statusText})}},{key:"render",value:function(){return Object(Ne.jsxs)("div",{children:[!this.state.editMode&&Object(Ne.jsx)("div",{children:Object(Ne.jsx)("span",{onClick:this.activateEditMode,children:this.props.statusText})}),this.state.editMode&&Object(Ne.jsx)("div",{children:Object(Ne.jsx)("input",{onChange:this.onStatusChange,autoFocus:!0,onBlur:this.deactivateEditMode,value:this.state.status})})]})}}]),n}(he.a.Component),vt=(Object(s.c)(Object(Ae.b)((function(e){return{statusText:e.profilePage.newStatusText}}),{updateTextStatusThuncCreator:Z}))(mt),n(5)),_t=Object(s.c)(Object(Ae.b)((function(e){return{statusText:e.profilePage.newStatusText}}),{updateTextStatusThuncCreator:Z}))((function(e){var t=Object(fe.useState)(!1),n=Object(vt.a)(t,2),r=n[0],s=n[1],a=Object(fe.useState)(e.statusText),i=Object(vt.a)(a,2),c=i[0],o=i[1];Object(fe.useEffect)((function(){o(e.statusText)}),[e.statusText]);return Object(Ne.jsxs)("div",{children:[!r&&Object(Ne.jsx)("div",{children:Object(Ne.jsx)("span",{onClick:function(){s(!0)},children:e.statusText})}),r&&Object(Ne.jsx)("div",{children:Object(Ne.jsx)("input",{onChange:function(e){o(e.currentTarget.value)},autoFocus:!0,onBlur:function(){s(!1),e.updateTextStatusThuncCreator(c)},value:c})})]})})),wt=function(e){if(!e.profile)return Object(Ne.jsx)(rt,{});var t=function(e){var t=new FormData;t.append("image",e),c.put("profile/photo",t,{withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"70e8e5ed-ff03-4d7b-b77d-74a34aff6348"},"Content-Type":"multipart/form-data"})};return Object(Ne.jsx)("div",{children:Object(Ne.jsxs)("div",{className:xt.a.discriptionBlock,children:[Object(Ne.jsx)("div",{children:Object(Ne.jsx)("img",{src:e.profile.photos.large,alt:"avatar"})}),Object(Ne.jsx)("input",{type:"file",onChange:function(e){e.target.files.length&&t(e.target.files[0])}}),Object(Ne.jsx)(_t,{}),Object(Ne.jsx)("div",{children:Object(Ne.jsx)("h1",{children:e.profile.fullName})}),Object(Ne.jsxs)("div",{children:[Object(Ne.jsx)("h2",{children:"About me:"}),Object(Ne.jsx)("p",{children:e.profile.aboutMe})]}),Object(Ne.jsxs)("div",{children:[Object(Ne.jsx)("h2",{children:"Contacts:"}),Object(Ne.jsxs)("ul",{children:[Object(Ne.jsx)("li",{children:e.profile.contacts.facebook}),Object(Ne.jsx)("li",{children:e.profile.contacts.website}),Object(Ne.jsx)("li",{children:e.profile.contacts.vk}),Object(Ne.jsx)("li",{children:e.profile.contacts.twitter}),Object(Ne.jsx)("li",{children:e.profile.contacts.instagram}),Object(Ne.jsx)("li",{children:e.profile.contacts.youtube}),Object(Ne.jsx)("li",{children:e.profile.contacts.github}),Object(Ne.jsx)("li",{children:e.profile.contacts.mainLink})]})]}),Object(Ne.jsxs)("div",{children:[Object(Ne.jsx)("h2",{children:"Looking for a job?"}),Object(Ne.jsx)("p",{children:e.profile.lookingForAJob?"yes":"no"})]})]})})},St=n(66),Pt=n.n(St),yt=n(145),Ct=n.n(yt),Nt=function(e){return Object(Ne.jsxs)("div",{className:Ct.a.item,children:[Object(Ne.jsx)("img",{src:"https://yt3.ggpht.com/ytc/AKedOLQ6xaEG8GLRO1JWBwMuGk_0kqX26eKrotXaqad76g=s900-c-k-c0x00ffffff-no-rj",alt:""}),e.message,Object(Ne.jsxs)("div",{children:[Object(Ne.jsx)("span",{children:"like"})," ",e.likesCount]})]})},kt=n(44),Tt=he.a.memo((function(e){console.log("RENDER");var t=e.posts.map((function(e){return Object(Ne.jsx)(Nt,{message:e.message,likesCount:e.likesCount},e.id)}));return Object(Ne.jsx)("div",{className:Pt.a.postsBlock,children:Object(Ne.jsxs)("div",{children:[Object(Ne.jsx)("h3",{children:"My posts"}),Object(Ne.jsx)("div",{children:Object(Ne.jsx)(At,Object(i.a)({},e))}),Object(Ne.jsx)("div",{className:Pt.a.messageBlock,children:t})]})})})),At=function(e){var t,n=Object(kt.b)({mode:"onBlur"}),r=n.register,s=n.handleSubmit,a=n.reset,c=n.formState.errors;return Object(Ne.jsxs)("form",{onSubmit:s((function(t){e.addPost(t.post),a()})),children:[Object(Ne.jsx)("div",{className:Pt.a.formBlock,children:Object(Ne.jsx)("textarea",Object(i.a)({className:(null===c||void 0===c?void 0:c.post)&&Pt.a.error},r("post",{required:"Field is requared",maxLength:{value:30,message:"Max length is 30 symbols"}})))}),Object(Ne.jsx)("div",{style:{color:"red"},children:(null===c||void 0===c?void 0:c.post)&&Object(Ne.jsx)("p",{children:(null===c||void 0===c||null===(t=c.post)||void 0===t?void 0:t.message)||"Error!"})}),Object(Ne.jsx)("div",{children:Object(Ne.jsx)("input",{type:"submit",value:"Add post"})})]})},Ut=Tt,Et=Object(Ae.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(t){e(function(e){return{type:M,newPost:e}}(t))}}}))(Ut),Ft=function(e){return Object(Ne.jsxs)("div",{className:Ot.a.pad,children:[Object(Ne.jsx)(wt,{profile:e.profile}),Object(Ne.jsx)(Et,{})]})},It=n(146),Dt=function(e){Object(ve.a)(n,e);var t=Object(_e.a)(n);function n(){return Object(xe.a)(this,n),t.apply(this,arguments)}return Object(me.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e||(e=this.props.userId),this.props.getUserProfileThunkCreator(e),this.props.getStatusThuncCreator(e)}},{key:"render",value:function(){return Object(Ne.jsx)(Ft,Object(i.a)(Object(i.a)({},this.props),{},{profile:this.props.profile}))}}]),n}(he.a.Component),Mt=Object(s.c)(Object(Ae.b)((function(e){return{profile:e.profilePage.profile,userId:e.auth.id,isAuth:e.auth.IsAuth}}),{setUserProfile:G,getUserProfileThunkCreator:function(e){return function(){var t=Object(g.a)(O.a.mark((function t(n){var r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l(e);case 2:r=t.sent,n(G(r.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getStatusThuncCreator:function(e){return function(){var t=Object(g.a)(O.a.mark((function t(n){var r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d(e);case 2:r=t.sent,n(W(r.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),It.withRouter,it)(Dt),Bt=n(108),Rt=n.n(Bt),Lt=n(153),zt=n(270),Gt=function(e){return Object(Ne.jsxs)("header",{className:Rt.a.header,children:[Object(Ne.jsx)("div",{children:Object(Ne.jsx)("img",{src:"https://images.theconversation.com/files/93616/original/image-20150902-6700-t2axrz.jpg?ixlib=rb-1.1.0&q=45&auto=format&w=1000&fit=clip",alt:""})}),Object(Ne.jsx)("div",{className:Rt.a.login__block,children:e.isAuth?Object(Ne.jsxs)("div",{children:[Object(Ne.jsx)("span",{children:"".concat(e.login," ")}),Object(Ne.jsx)("span",{children:Object(Ne.jsx)(Lt.a,{type:"primary",icon:Object(Ne.jsx)(zt.a,{}),onClick:function(){e.logout()}})})]}):Object(Ne.jsx)(we.b,{to:"/login",children:"Login"})})]})},Wt=function(e){Object(ve.a)(n,e);var t=Object(_e.a)(n);function n(){return Object(xe.a)(this,n),t.apply(this,arguments)}return Object(me.a)(n,[{key:"render",value:function(){return Object(Ne.jsx)(Gt,Object(i.a)({},this.props))}}]),n}(he.a.Component),Zt=Object(Ae.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:function(){return function(){var e=Object(g.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:0===e.sent.data.resultCode&&t(_(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(Wt),Xt=n(67),Ht=n.n(Xt),Kt=n(267),Qt=n(269),Jt=function(e){var t=e.isWrong,n=e.onSubmitCall,r=Object(kt.b)(),s=r.control,a=(r.register,r.handleSubmit),i=r.reset,c=r.formState.errors,o=function(e){n(e),i()};return Object(Ne.jsx)("div",{className:Ht.a.formBlock,children:Object(Ne.jsxs)("form",{onSubmit:a(o),children:[Object(Ne.jsxs)("div",{children:[Object(Ne.jsx)("div",{children:t&&Object(Ne.jsx)("p",{children:"login/password incorrect"})}),Object(Ne.jsx)(kt.a,{name:"email",control:s,rules:{required:"First name required"},render:function(e){var n=e.field,r=n.onChange,s=n.value;return Object(Ne.jsx)(Kt.a,{value:s,onChange:r,placeholder:"login",className:((null===c||void 0===c?void 0:c.email)||t)&&Ht.a.error})}})]}),Object(Ne.jsx)("div",{children:Object(Ne.jsx)(kt.a,{name:"password",control:s,rules:{required:!0},render:function(e){var n=e.field,r=n.onChange,s=n.value;return Object(Ne.jsx)(Kt.a.Password,{value:s,onChange:r,placeholder:"password",className:((null===c||void 0===c?void 0:c.password)||t)&&Ht.a.error})}})}),Object(Ne.jsx)("div",{children:Object(Ne.jsx)(kt.a,{defaultValue:"false",name:"rememberMe",control:s,render:function(e){var t=e.field,n=t.onChange,r=t.value;return Object(Ne.jsx)(Qt.a,{value:r,onChange:n,children:"Remember me"})}})}),Object(Ne.jsx)("div",{children:Object(Ne.jsx)(Lt.a,{type:"primary",htmlType:"submit",onSubmit:a(o),children:"Submit"})})]})})},qt=Object(Ae.b)((function(e){return{isAuth:e.auth.isAuth,isWrong:e.auth.isWrong}}),{loginTC:function(e,t,n){return function(){var r=Object(g.a)(O.a.mark((function r(s){return O.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,b(e,t,n);case 2:0===r.sent.data.resultCode?(s(S()),s(w(!1))):s(w(!0));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}})((function(e){return e.isAuth?Object(Ne.jsx)(st.Redirect,{to:"/profile"}):Object(Ne.jsxs)("div",{children:[Object(Ne.jsx)("h1",{className:Ht.a.title,children:"Login"}),Object(Ne.jsx)(Jt,{isWrong:e.isWrong,onSubmitCall:function(t){e.loginTC(t.email,t.password,t.rememberMe)}})]})})),Vt=n(149),Yt=n.n(Vt),$t=function(e){return Object(Ne.jsx)("div",{className:Yt.a.nameChat,children:Object(Ne.jsxs)(we.b,{to:"/dialogs/"+e.id,children:[Object(Ne.jsx)("img",{src:"https://yt3.ggpht.com/ytc/AKedOLQ6xaEG8GLRO1JWBwMuGk_0kqX26eKrotXaqad76g=s900-c-k-c0x00ffffff-no-rj",alt:""}),e.name]})})},en=n(150),tn=n.n(en),nn=function(e){return Object(Ne.jsx)("div",{className:tn.a.message,children:e.message})},rn=n(68),sn=n.n(rn),an=function(e){var t=Object(kt.b)(),n=t.register,r=t.handleSubmit,s=t.reset;t.formState.errors;return Object(Ne.jsxs)("form",{onSubmit:r((function(t){e.addMessage(t.message),s()})),children:[Object(Ne.jsx)("textarea",Object(i.a)({},n("message"))),Object(Ne.jsx)("input",{type:"submit",value:"send"})]})},cn=function(e){var t=e.dialogs.map((function(e){return Object(Ne.jsx)($t,{id:e.id,name:e.name},e.id)})),n=e.messages.map((function(e){return Object(Ne.jsx)(nn,{message:e.message},e.id)}));return Object(Ne.jsxs)("div",{className:sn.a.dialogs,children:[Object(Ne.jsx)("div",{className:sn.a.dialogs__item,children:t}),Object(Ne.jsx)("div",{className:sn.a.messages,children:n}),Object(Ne.jsx)("div",{className:sn.a.dialogInput,children:Object(Ne.jsx)(an,Object(i.a)({},e))})]})},on=Object(s.c)(Object(Ae.b)((function(e){return{dialogs:e.dialogsPage.dialogs,messages:e.dialogsPage.messages,isAuth:e.auth.isAuth}}),(function(e){return{addMessage:function(t){e(function(e){return{type:T,newMessage:e}}(t))}}})),it)(cn),un=function(e){Object(ve.a)(n,e);var t=Object(_e.a)(n);function n(){return Object(xe.a)(this,n),t.apply(this,arguments)}return Object(me.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?Object(Ne.jsxs)("div",{className:"app-wrapper",children:[Object(Ne.jsx)(Zt,{}),Object(Ne.jsx)(De,{}),Object(Ne.jsxs)("div",{className:"app-wrapper-content",children:[Object(Ne.jsx)(st.Route,{path:"/dialogs",render:(e=on,function(t){return Object(Ne.jsx)(fe.Suspense,{fallback:Object(Ne.jsx)("div",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}),children:Object(Ne.jsx)(e,Object(i.a)({},t))})})}),Object(Ne.jsx)(st.Route,{path:"/profile/:userId?",render:function(){return Object(Ne.jsx)(Mt,{})}}),Object(Ne.jsx)(st.Route,{path:"/news",render:function(){return Object(Ne.jsx)(Be,{})}}),Object(Ne.jsx)(st.Route,{path:"/music",render:function(){return Object(Ne.jsx)(Re,{})}}),Object(Ne.jsx)(st.Route,{path:"/notes",render:function(){return Object(Ne.jsx)(He,{})}}),Object(Ne.jsx)(st.Route,{path:"/users",render:function(){return Object(Ne.jsx)(ft,{})}}),Object(Ne.jsx)(st.Route,{path:"/settings",render:function(){return Object(Ne.jsx)(Me,{})}}),Object(Ne.jsx)(st.Route,{path:"/login",render:function(){return Object(Ne.jsx)(qt,{})}})]})]}):Object(Ne.jsx)(rt,{});var e}}]),n}(he.a.Component),ln=Object(s.c)(st.withRouter,Object(Ae.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){var t=e(S());Promise.all([t]).then((function(){e({type:y})}))}}}))(un);ge.a.render(Object(Ne.jsx)(he.a.StrictMode,{children:Object(Ne.jsx)(we.a,{basename:"/reactApp",children:Object(Ne.jsx)(Ae.a,{store:be,children:Object(Ne.jsx)(ln,{})})})}),document.getElementById("root")),r()},36:function(e,t,n){e.exports={user__wrapper:"User_user__wrapper__1vcrP",user__leftBlock:"User_user__leftBlock__3iQbI",user__rightBlock:"User_user__rightBlock__1qDl1",user__foto:"User_user__foto__13quP",user__button:"User_user__button__3pLcR",user__name:"User_user__name__3b3rv",user__location:"User_user__location__30MDn",user__locationCity:"User_user__locationCity__2Lbz5",user__locationCountry:"User_user__locationCountry__Nk4IE",user__status:"User_user__status__2dS5k"}},40:function(e,t,n){e.exports={nav:"Navbar_nav__1pM_z",item:"Navbar_item__1ismi",activeLink:"Navbar_activeLink__27L8N"}},58:function(e,t,n){e.exports={notes__wrapper:"Notes_notes__wrapper__JihYO",notes__title:"Notes_notes__title__2EFCQ",notes__visualBlock:"Notes_notes__visualBlock__2RSOb",notes__sendBlock:"Notes_notes__sendBlock__1c81h"}},66:function(e,t,n){e.exports={postsBlock:"MyPosts_postsBlock__hZDAG",messageBlock:"MyPosts_messageBlock__WsGmt",error:"MyPosts_error__2l0HC"}},67:function(e,t,n){e.exports={formBlock:"Login_formBlock__3ddug",title:"Login_title__lau2c",error:"Login_error__1sfQt"}},68:function(e,t,n){e.exports={dialogs:"Dialogs_dialogs__1pvPu",dialogs__item:"Dialogs_dialogs__item__1h8Mb",dialog:"Dialogs_dialog__3X4PV",active:"Dialogs_active__32DQC",messages:"Dialogs_messages__2oy_z",dialogInput:"Dialogs_dialogInput__3x-dx"}},77:function(e,t,n){e.exports={image:"ProfileInfo_image__UbiZa",discriptionBlock:"ProfileInfo_discriptionBlock__2Zfws"}},81:function(e,t,n){e.exports={title:"FriendsBlock_title__15gTh",blockFriends:"FriendsBlock_blockFriends__16l4X"}},96:function(e,t,n){e.exports={count__wrapper:"Paginator_count__wrapper__37n73",bold:"Paginator_bold__3b_Ip",pageNumber:"Paginator_pageNumber__1zEB-"}}},[[263,1,2]]]);
//# sourceMappingURL=main.b647ab1a.chunk.js.map