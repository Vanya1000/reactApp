{"version":3,"sources":["components/Navbar/FriendsBlock/FriendsItem/FriendsItem.module.css","components/Header/Header.module.css","components/Notes/NotesPost/NotesPost.module.css","components/common/Preloader/Preloader.module.css","components/Profile/Profile.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Dialogs/DialogItem/DialogItem.module.css","components/Dialogs/Message/Message.module.css","reportWebVitals.js","api/api.js","redux/auth-reducer.js","redux/appReducer.js","redux/dialogsReducer.js","redux/noteReducer.js","redux/profileReducer.js","redux/sidebarReducer.js","redux/usersReducer.js","redux/redux-store.js","components/Navbar/FriendsBlock/FriendsItem/FriendsItem.jsx","components/Navbar/FriendsBlock/FriendsBlock.jsx","components/Navbar/FriendsBlock/FriendsBlockContainer.jsx","components/Navbar/Navbar.jsx","components/Settings/Settings.jsx","components/News/News.jsx","components/Music/Music.jsx","components/Notes/NotesPost/NotesPost.jsx","components/Notes/Notes.jsx","components/Notes/NotesContainer.jsx","components/Users/User.jsx","assets/images/user.png","components/Users/Users.jsx","assets/images/Circle-Loading.svg","components/common/Preloader/Preloader.js","HOC/withAuthRedirect.js","redux/users-selectors.js","components/Users/UsersContainer.jsx","components/Profile/ProfileInfo/ProfileStatus.jsx","components/Profile/ProfileInfo/ProfileStatusWithHoocs.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/Message/Message.jsx","components/Dialogs/Dialogs.jsx","components/Dialogs/DialogsContainer.jsx","App.js","HOC/withSuspense.js","index.js","components/Users/User.module.css","components/Navbar/Navbar.module.css","components/Notes/Notes.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Login/Login.module.css","components/Dialogs/Dialogs.module.css","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Navbar/FriendsBlock/FriendsBlock.module.css","components/common/paginator/Paginator.module.css"],"names":["module","exports","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","response","data","setFollow","id","post","setUnfollow","delete","profileAPI","userId","newStatusText","put","status","authAPI","email","password","rememberMe","SET_USER_DATA","SET_ERROR_WRONG","initialState","login","isAuth","isWrong","setAuthUserData","type","payload","setErrorWrong","getAuthUserData","dispatch","a","resultCode","authReducer","state","action","INITIALIZED_SUCCESS","initialized","appReducer","ADD_MESSAGE","dialogs","name","messages","message","dialogsReducer","newMessage","ADD_NOTE","UPDATE_NEW_NOTE_TEXT","note","newNoteText","noteReducer","newText","ADD_POST","SET_USER_PROFILE","SET_STATUS_TEXT","DELETE_POST","posts","likesCount","profile","setUserProfile","setNewMessageTextStatus","statusText","updateTextStatusThuncCreator","profileReducer","newPost","filter","p","postId","friends","sidebarReducer","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_PAGE_SIZE","SET_COUNT_ALL_USERS","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalUserCount","isFetching","followingInProgress","followSucsess","unfollowSucsess","setUsers","setCurrentPage","setPageSize","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","apiMethod","actionCreator","usersReducer","map","u","followed","countAllUsers","reducers","combineReducers","profilePage","dialogsPage","sidebar","usersPage","app","auth","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","FriendsItem","props","className","s","itemFriends","src","FriendsBlock","friendsItem","elementF","title","blockFriends","FriendsBlockContainer","connect","setActive","isActive","activeLink","Navbar","nav","item","to","Settings","News","Music","NotesPost","notes__post","Notes","noteItem","notes","notesItem","newNotesElement","React","createRef","notes__wrapper","notes__title","notes__visualBlock","notes__sendBlock","ref","onChange","textInputTextarea","current","value","updateNotesText","onClick","addNotes","NotesContainer","updateNewNoteTextActionCreator","User","user","unfollow","follow","user__wrapper","user__leftBlock","user__foto","photos","small","alt","user__button","disabled","user__rightBlock","user__name","user__status","user__location","user__locationCity","user__locationCountry","Users","onPageChanged","showQuickJumper","defaultCurrent","total","defaultPageSize","pageNumber","onShowSizeChange","onPageSizeChange","Preloader","wpapperGif","preloader","mapStateToProps","withAuthRedirect","Component","RedirectComponent","this","getUsersSuper","createSelector","getPageSize","getTotalUserCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","getUsersOnPagechangedThunkCreator","size","getUsersOnPageSize","bind","items","totalCount","ProfileStatus","editMode","activateEditMode","setState","deactivateEditMode","onStatusChange","e","currentTarget","prevProps","prevState","autoFocus","onBlur","useState","setEditMode","setStatus","useEffect","ProfileInfo","savePhoto","photoFile","formData","FormData","append","discriptionBlock","large","target","files","length","ProfileStatusWithHoocs","fullName","aboutMe","contacts","facebook","website","vk","twitter","instagram","youtube","github","mainLink","lookingForAJob","Post","MyPosts","memo","console","log","postsElement","postsBlock","messageBlock","AddPostForm","useForm","mode","register","handleSubmit","reset","errors","formState","onSubmit","addPost","formBlock","error","required","maxLength","style","color","MyPostsContainer","newPostText","Profile","pad","ProfileContainer","match","params","getUserProfileThunkCreator","getStatusThuncCreator","IsAuth","withRouter","Header","header","login__block","icon","PoweroffOutlined","logout","HeaderContainer","Loginform","onSubmitCall","control","rules","render","field","placeholder","Password","defaultValue","htmlType","loginTC","DialogItem","nameChat","Message","AddMessageForm","addMessage","Dialogs","dialogsElements","d","messagesElements","m","dialogs__item","dialogInput","addMessageActionCreator","App","initializeApp","path","DialogsContainer","fallback","promise","Promise","all","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e61def72.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"itemFriends\":\"FriendsItem_itemFriends__1i93p\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1GGgj\",\"login__block\":\"Header_login__block__1B7di\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"notes__post\":\"NotesPost_notes__post__3aNrg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wpapperGif\":\"Preloader_wpapperGif__pCb4x\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pad\":\"Profile_pad__1cBfN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__2HPe9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nameChat\":\"DialogItem_nameChat__1Vj6G\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"Message_message__xTsZN\"};","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import * as axios from 'axios';\r\n\r\n\r\nconst instance = axios.create({\r\n\twithCredentials: true,\r\n\tbaseURL:'https://social-network.samuraijs.com/api/1.0/',\r\n\theaders: {\r\n\t\t\"API-KEY\": \"70e8e5ed-ff03-4d7b-b77d-74a34aff6348\"\r\n\t}\r\n})\r\n\r\nexport  const usersAPI = {//вспомагательный объект который содержит методы(набор)\r\n\tgetUsers (currentPage, pageSize)  {\r\n\t\treturn instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n\t\t\t.then(response => {\r\n\t\t\t\treturn response.data;//возвращаем только data(инкапсулируем)\r\n\t\t\t})\r\n\t},\r\n\tsetFollow(id) {\r\n\t\treturn instance.post(`follow/${id}`)\r\n\t},\r\n\tsetUnfollow(id) {\r\n\t\treturn instance.delete(`follow/${id}`)\r\n\t},\r\n\t\r\n}\r\n\r\nexport const profileAPI = {\r\n\tgetUserProfile(userId) {\r\n\t\treturn instance.get(`profile/${userId}`)\r\n\t},\r\n\tgetStatus(id) {\r\n\t\treturn instance.get(`profile/status/${id}`)\r\n\t},\r\n\tupdateStatus(newStatusText) {\r\n\t\treturn instance.put(`profile/status`, { status: newStatusText })\r\n\t}\r\n}\r\n\r\n\r\nexport const authAPI = {\r\n\tchecksLogin() {\r\n\t\treturn instance.get('auth/me')\r\n\t},\r\n\tlogin(email, password, rememberMe = false) {\r\n\t\treturn instance.post('auth/login', { email, password, rememberMe})\r\n\t},\r\n\tlogout() {\r\n\t\treturn instance.delete('auth/login')\r\n\t}\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import { authAPI, usersAPI } from \"../api/api\";\r\nconst SET_USER_DATA = 'auth/SET_USER_DATA';\r\nconst SET_ERROR_WRONG = 'auth/SET_ERROR_WRONG';\r\n\r\nlet initialState = {\r\n\tid: null,\r\n\tlogin: null,\r\n\temail: null,\r\n\tisAuth: false,\r\n\tisWrong: null,\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase SET_USER_DATA:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t...action.payload,\r\n\t\t\t}\r\n\t\tcase SET_ERROR_WRONG:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisWrong: action.data\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport const setAuthUserData = (id, login, email, isAuth) =>\r\n\t({ type: SET_USER_DATA, payload: { id, login, email, isAuth } });\r\n\r\nexport const setErrorWrong = (isWrong) =>\r\n\t({ type: SET_ERROR_WRONG, data: isWrong });\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {//для замыкания что бы thunk мог достучаться до данных переданных в getUsersThunkCreator\r\n\tlet response = await authAPI.checksLogin();// дожидаемся именно промиса В респонсе будет сидеть результат которым зарезолвится промис \r\n\tif (response.data.resultCode === 0) {\r\n\t\tlet { id, login, email } = response.data.data\r\n\t\tdispatch(setAuthUserData(id, login, email, true));\r\n\t}\r\n}\r\n\r\n\r\nexport const loginTC = (email, password, rememberMe) => async (dispatch) => {\r\n\tlet response = await authAPI.login(email, password, rememberMe);\r\n\tif (response.data.resultCode === 0) {\r\n\t\tdispatch(getAuthUserData());\r\n\t\tdispatch(setErrorWrong(false));\r\n\t} else {\r\n\t\tdispatch(setErrorWrong(true));\r\n\t}\r\n}\r\n\r\n\r\nexport const logout = () => async (dispatch) => {\r\n\tlet response = await authAPI.logout()\r\n\tif (response.data.resultCode === 0) {\r\n\t\tdispatch(setAuthUserData(null, null, null, false));\r\n\t}\r\n}\r\n\r\nexport default authReducer;","import { authAPI, usersAPI } from \"../api/api\";\r\nimport { getAuthUserData } from \"./auth-reducer\";\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCES';\r\n\r\nlet initialState = {\r\n\tinitialized: false\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase INITIALIZED_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tinitialized: true\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport const initializedSuccess = () =>\r\n\t({ type: INITIALIZED_SUCCESS });\r\n\r\nexport const initializeApp = () => {\r\n\treturn (dispatch) => {\r\n\t\tlet promise = dispatch(getAuthUserData());// вернули промис из auth-reducer\r\n\t\tPromise.all([promise]).then(() => {// если несколько \r\n\t\t\tdispatch(initializedSuccess());\r\n\t\t});\r\n\t\t\r\n\t}\r\n}\r\n\r\nexport default appReducer;","const ADD_MESSAGE = 'ADD-MESSAGE';\r\nconst UPDATE_NEW_MESSAGE_TEXT = 'dialogs/UPDATE-NEW-MESSAGE-TEXT'; {/*redux смотрит совпад и анализирует и выполняет action*/ }\r\n\r\nlet initialState = {\r\n\tdialogs: [\r\n\t\t{ id: 1, name: 'Ivan' },\r\n\t\t{ id: 2, name: 'Alex' },\r\n\t\t{ id: 3, name: 'Kesha' },\r\n\t\t{ id: 4, name: 'Dino' }\r\n\t],\r\n\tmessages: [\r\n\t\t{ id: 1, message: 'What you name?' },\r\n\t\t{ id: 2, message: 'Tony' },\r\n\t\t{ id: 3, message: 'Fack you Tony!' },\r\n\t\t{ id: 4, message: 'What you name?' }\r\n\t],\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase ADD_MESSAGE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tmessages: [...state.messages, { id: 5, message: action.newMessage }]\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport const addMessageActionCreator = (message) =>\r\n\t({ type: ADD_MESSAGE, newMessage: message });\r\n\r\n\r\nexport default dialogsReducer;\r\n\r\n\r\n","const ADD_NOTE = 'ADD-NOTE';\r\nconst UPDATE_NEW_NOTE_TEXT = 'note/UPDATE-NEW-NOTE-TEXT'; {/*redux смотрит совпад и анализирует и выполняет action*/ }\r\n\r\nlet initialState = {\r\n\tnote: [\r\n\t\t{ id: 1, note: 'First note' },\r\n\t\t{ id: 2, note: 'Second note' },\r\n\t\t{ id: 3, note: 'Fack you Tony!' },\r\n\t\t{ id: 4, note: 'What you name?' }\r\n\t],\r\n\tnewNoteText: ''\r\n};\r\n\r\nconst noteReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase ADD_NOTE: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tnote: [...state.note, { id: 5, note: state.newNoteText }],\r\n\t\t\t\tnewNoteText: ''\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase UPDATE_NEW_NOTE_TEXT: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tnewNoteText: action.newText\r\n\t\t\t}\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport const addNoteActionCreator = () => ({ type: ADD_NOTE });\r\n\r\nexport const updateNewNoteTextActionCreator = (textInputTextarea) =>\r\n\t({ type: UPDATE_NEW_NOTE_TEXT, newText: textInputTextarea });\r\nexport default noteReducer;","import { profileAPI } from \"../api/api\";\r\n\r\nconst ADD_POST = 'profile/ADD-POST'; {/*action type*/ } {/*используем вместо строк что бы не опечататься*/ }\r\nconst SET_USER_PROFILE = 'profile/SET_USER_PROFILE';\r\nconst SET_STATUS_TEXT = 'profile/SET_STATUS_TEXT';\r\nconst DELETE_POST = 'profile/DELETE_POST';\r\n\r\nlet initialState = {\r\n\tposts: [\r\n\t\t{ id: 1, message: 'Hi, how a you?', likesCount: 15 },\r\n\t\t{ id: 2, message: 'Its my first post!', likesCount: 2 }\r\n\t],\r\n\tprofile: null,\r\n\tnewStatusText: '-----'\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase ADD_POST: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tposts: [...state.posts, { id: 5, message: action.newPost, likesCount: 0 }],\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase SET_USER_PROFILE: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tprofile: action.profile\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase SET_STATUS_TEXT: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tnewStatusText: action.statusText\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase DELETE_POST: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tposts: state.posts.filter(p => p.id != action.postId)\r\n\t\t\t};\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport const addPost = (post) =>\r\n\t({ type: ADD_POST, newPost: post });\r\n\r\nexport const setUserProfile = (profile) =>\r\n\t({ type: SET_USER_PROFILE, profile });\r\n\r\n\r\nexport const getUserProfileThunkCreator = (userId) => async (dispatch) => { //для замыкания что бы thunk мог достучаться до данных переданных в getUsersThunkCreator\r\n\tlet response = await profileAPI.getUserProfile(userId);\r\n\tdispatch(setUserProfile(response.data));\r\n}\r\n\r\nexport const setNewMessageTextStatus = (statusText) =>\r\n\t({ type: SET_STATUS_TEXT, statusText: statusText });\r\n\r\nexport const getStatusThuncCreator = (id) => async (dispatch) => {\r\n\tlet response = await profileAPI.getStatus(id);\r\n\tdispatch(setNewMessageTextStatus(response.data));\r\n}\r\n\r\nexport const updateTextStatusThuncCreator = (newStatusText) => async (dispatch) => {\r\n\tlet response = await profileAPI.updateStatus(newStatusText);\r\n\tif (response.data.resultCode === 0) {\r\n\t\tdispatch(setNewMessageTextStatus(newStatusText));\r\n\t}\r\n}\r\n\r\n\r\nexport const deletePost = (postId) =>\r\n\t({ type: DELETE_POST, postId });\r\n\r\nexport default profileReducer;","let initialState = {\r\n\tfriends: [\r\n\t\t{ id: 1, name: 'Alex' },\r\n\t\t{ id: 2, name: 'Kesha' },\r\n\t\t{ id: 3, name: 'Dino' },\r\n\t]\r\n};\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n\treturn state;\r\n}\r\n\r\nexport default sidebarReducer;","import { usersAPI } from \"../api/api\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'users/SET_USERS';\r\nconst SET_CURRENT_PAGE = 'users/SET_CURRENT_PAGE';\r\nconst SET_PAGE_SIZE = 'users/SET_PAGE_SIZE';\r\nconst SET_COUNT_ALL_USERS = 'users/SET_COUNT_ALL_USERS';\r\nconst TOGGLE_IS_FETCHING = 'users/TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'users/TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\nlet initialState = {\r\n\tusers: [],\r\n\tpageSize: 10,\r\n\ttotalUserCount: 1,\r\n\tcurrentPage: 1,\r\n\tisFetching: true,\r\n\tfollowingInProgress: false\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase FOLLOW:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: state.users.map((u) => u.id === action.userId ? { ...u, followed: true } : u)\r\n\t\t\t}\r\n\t\tcase UNFOLLOW:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: state.users.map((u) => u.id === action.userId ? { ...u, followed: false } : u)\r\n\t\t\t}\r\n\t\tcase SET_USERS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: action.users\r\n\t\t\t}\r\n\t\tcase SET_CURRENT_PAGE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcurrentPage: action.currentPage\r\n\t\t\t}\r\n\t\tcase SET_COUNT_ALL_USERS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\ttotalUserCount: action.countAllUsers\r\n\t\t\t}\r\n\t\tcase SET_PAGE_SIZE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpageSize: action.pageSize\r\n\t\t\t}\r\n\t\tcase TOGGLE_IS_FETCHING:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisFetching: action.isFetching\r\n\t\t\t}\r\n\t\tcase TOGGLE_IS_FOLLOWING_PROGRESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tfollowingInProgress: action.isFetching\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport const followSucsess = (userId) => ({ type: FOLLOW, userId });\r\nexport const unfollowSucsess = (userId) => ({ type: UNFOLLOW, userId });\r\nexport const setUsers = (users) => ({ type: SET_USERS, users });\r\nexport const setCurrentPage = (currentPage) => ({ type: SET_CURRENT_PAGE, currentPage });\r\nexport const setPageSize = (pageSize) => ({ type: SET_PAGE_SIZE, pageSize });\r\nexport const setCountAllUsers = (countAllUsers) => ({ type: SET_COUNT_ALL_USERS, countAllUsers });\r\nexport const toggleIsFetching = (isFetching) => ({ type: TOGGLE_IS_FETCHING, isFetching });\r\nexport const toggleFollowingProgress = (isFetching) => ({ type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching });\r\n\r\n\r\nexport const getUsersThunkCreator = (currentPage, pageSize) => async (dispatch) => {//для замыкания что бы thunk мог достучаться до данных переданных в getUsersThunkCreator\r\n\tdispatch(toggleIsFetching(true));\r\n\tlet data = await usersAPI.getUsers(currentPage, pageSize);\r\n\tdispatch(toggleIsFetching(false));\r\n\tdispatch(setUsers(data.items));\r\n\tdispatch(setCountAllUsers(data.totalCount));\r\n}\r\n\r\nexport const getUsersOnPageSize = (pageNumber, pageSize) => async (dispatch) => {\r\n\tdispatch(setPageSize(pageSize));\r\n\tdispatch(toggleIsFetching(true));\r\n\tlet data = await usersAPI.getUsers(pageNumber, pageSize);\r\n\tdispatch(setUsers(data.items));\r\n\tdispatch(toggleIsFetching(false));\r\n}\r\n\r\nexport const getUsersOnPagechangedThunkCreator = (pageNumber, pageSize) => async (dispatch) => {\r\n\tdispatch(setCurrentPage(pageNumber));\r\n\tdispatch(toggleIsFetching(true));\r\n\tlet data = await usersAPI.getUsers(pageNumber, pageSize);\r\n\tdispatch(setUsers(data.items));\r\n\tdispatch(toggleIsFetching(false));\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n\tdispatch(toggleFollowingProgress(true));\r\n\tlet data = await apiMethod(userId);\r\n\tif (data.data.resultCode === 0) {\r\n\t\tdispatch(actionCreator(userId));\r\n\t}\r\n\tdispatch(toggleFollowingProgress(false));\r\n}\r\n\r\nexport const follow = (userId) => async (dispatch) => {\r\n\tfollowUnfollowFlow(dispatch, userId, usersAPI.setFollow.bind(usersAPI), followSucsess)\r\n}\r\nexport const unfollow = (userId) => async (dispatch) => {\r\n\tfollowUnfollowFlow(dispatch, userId, usersAPI.setUnfollow.bind(usersAPI), unfollowSucsess)\r\n}\r\n\r\n\r\nexport default usersReducer;","import { applyMiddleware, combineReducers, compose, createStore } from \"redux\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport appReducer from \"./appReducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport dialogsReducer from \"./dialogsReducer\";\r\nimport noteReducer from \"./noteReducer\";\r\nimport profileReducer from \"./profileReducer\";\r\nimport sidebarReducer from \"./sidebarReducer\";\r\nimport usersReducer from \"./usersReducer\";\r\n\r\nlet reducers = combineReducers({\r\n\tprofilePage: profileReducer,\r\n\tdialogsPage: dialogsReducer,\r\n\tsidebar: sidebarReducer,\r\n\tnote: noteReducer,\r\n\tusersPage: usersReducer,\r\n\tapp: appReducer,\r\n\tauth: authReducer,\r\n});\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nlet store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\nexport default store;\r\n","import React from \"react\";\r\nimport s from './FriendsItem.module.css';\r\n\r\nconst FriendsItem = (props) => {\r\n\treturn (\r\n\t\t<div className={s.itemFriends}>\r\n\t\t\t<div className={s.friends}>\r\n\t\t\t\t<img src=\"https://cs6.pikabu.ru/post_img/2017/07/20/9/1500560067172981119.jpg\" />\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t{props.name}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default FriendsItem;","import React from \"react\";\r\nimport s from './FriendsBlock.module.css';\r\nimport FriendsItem from './FriendsItem/FriendsItem';\r\n\r\nconst FriendsBlock = (props) => {\r\n\tlet friendsItem = props.friends.map(elementF => <FriendsItem name={elementF.name} key={elementF.id}/>)\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className={s.title}>\r\n\t\t\t\tFriends\r\n\t\t\t</div>\r\n\t\t\t<div className={s.blockFriends}>\r\n\t\t\t\t{friendsItem}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default FriendsBlock;","import React from \"react\";\r\nimport { connect } from 'react-redux';\r\nimport FriendsBlock from './FriendsBlock';\r\nimport s from './FriendsBlock.module.css';\r\nimport FriendsItem from './FriendsItem/FriendsItem';\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tfriends: state.sidebar.friends\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\r\n\t}\r\n}\r\n\r\nconst FriendsBlockContainer = connect(mapStateToProps, mapDispatchToProps)(FriendsBlock)\r\n\r\nexport default FriendsBlockContainer;","import React from \"react\";\r\nimport { Link, NavLink } from 'react-router-dom';\r\nimport FriendsBlock from './FriendsBlock/FriendsBlock';\r\nimport FriendsBlockContainer from './FriendsBlock/FriendsBlockContainer';\r\nimport s from './Navbar.module.css';\r\nconst setActive = ({isActive}) => isActive ? s.activeLink : '';\r\n\r\nconst Navbar = (props) => {\r\n\t\r\n\treturn (\r\n\t\t<nav className={s.nav}>\r\n\t\t\t<div className={s.item}>\r\n\t\t\t\t<NavLink to=\"/profile\" className={setActive}>Profile</NavLink>\r\n\t\t\t</div>\r\n\t\t\t<div className={s.item}>\r\n\t\t\t\t<NavLink to=\"/dialogs\" className={setActive}>Messages</NavLink>\r\n\t\t\t</div>\r\n\t\t\t<div className={s.item}>\r\n\t\t\t\t<NavLink to=\"/news\" className={setActive}>News</NavLink>\r\n\t\t\t</div>\r\n\t\t\t<div className={s.item}>\r\n\t\t\t\t<NavLink to=\"/music\" className={setActive}>Music</NavLink>\r\n\t\t\t</div>\r\n\t\t\t<div className={s.item}>\r\n\t\t\t\t<NavLink to=\"/notes\" className={setActive}>Notes</NavLink>\r\n\t\t\t</div>\r\n\t\t\t<div className={s.item}>\r\n\t\t\t\t<NavLink to=\"/users\" className={setActive}>Users</NavLink>\r\n\t\t\t</div>\r\n\t\t\t<div className={s.item}>\r\n\t\t\t\t<NavLink to=\"/settings\" className={setActive}>Settings</NavLink>\r\n\t\t\t</div>\r\n\t\t\t<FriendsBlockContainer />\r\n\t\t</nav>\r\n\t)\r\n}\r\nexport default Navbar;\r\n","import React from \"react\";\r\nimport s from './Settings.module.css';\r\n\r\nconst Settings = () => {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\tSettings\r\n\t\t</div>\r\n\t)\r\n}\r\nexport default Settings;","import React from \"react\";\r\nimport s from './News.module.css';\r\n\r\nconst News = () => {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\tNews\r\n\t\t</div>\r\n\t)\r\n}\r\nexport default News;","import React from \"react\";\r\nimport s from './Music.module.css';\r\n\r\nconst Music = () => {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\tMusic\r\n\t\t</div>\r\n\t)\r\n}\r\nexport default Music;","import React from \"react\";\r\nimport s from './NotesPost.module.css';\r\n\r\nconst NotesPost = (props) => {\r\n\treturn (\r\n\t\t<div className={s.notes__post}>\r\n\t\t\t{props.note}\r\n\t\t</div>\r\n\t)\r\n}\r\nexport default NotesPost;","import s from './Notes.module.css';\r\nimport NotesPost from './NotesPost/NotesPost';\r\nimport React from 'react';\r\nimport { addNoteActionCreator, updateNewNoteTextActionCreator } from '../../redux/noteReducer';\r\n\r\nconst Notes = (props) => {\r\n\tlet noteItem = props.notes.map((notesItem) => <NotesPost note={notesItem.note} key={notesItem.id} />)\r\n\r\n\r\n\tlet newNotesElement = React.createRef();\r\n/*\r\n\tlet keycheck = (event) => {\r\n\t\tprops.keycheck(event);\r\n\t}\r\n\tonKeyDown={keycheck}\r\n*/\r\n\r\nlet addNotes = () => {\r\n\tprops.addNotes()\r\n\t}\r\n\r\n\tlet onNotesTextUpdate = () => {\r\n\t\tlet textInputTextarea = newNotesElement.current.value;\r\n\t\tprops.updateNotesText(textInputTextarea);\r\n\t}\r\n\r\n\r\n\treturn (\r\n\t\t<div className={s.notes__wrapper}>\r\n\t\t\t<h2 className={s.notes__title}>My notes</h2>\r\n\t\t\t<div className={s.notes__visualBlock}>\r\n\t\t\t\t{noteItem}\r\n\t\t\t</div>\r\n\t\t\t<div className={s.notes__sendBlock}>\r\n\t\t\t\t<textarea  ref={newNotesElement} onChange={onNotesTextUpdate} value={props.newNoteText}></textarea>\r\n\t\t\t\t<button onClick={addNotes}>Send</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\nexport default Notes;","import s from './Notes.module.css';\r\nimport NotesPost from './NotesPost/NotesPost';\r\nimport React from 'react';\r\nimport { addNoteActionCreator, updateNewNoteTextActionCreator } from '../../redux/noteReducer';\r\nimport Notes from './Notes';\r\nimport { connect } from 'react-redux';\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tnotes: state.note.note,\r\n\t\tnewNoteText: state.note.newNoteText\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\taddNotes: () => {\r\n\t\t\tdispatch(addNoteActionCreator());\r\n\t\t},\r\n\t\tupdateNotesText: (textInputTextarea) => {\r\n\t\t\tlet action = updateNewNoteTextActionCreator(textInputTextarea);\r\n\t\t\tdispatch(action);\r\n\t\t},\r\n\t\t//keycheck: (event) => {\r\n\t\t//\tif (event.code == 'Enter' && state.newNoteText !== \"\") {\r\n\t\t//\t\taddNotes();\r\n\t\t//\t};\r\n\t\t//}\r\n\t}\r\n}\r\n\r\nconst NotesContainer = connect(mapStateToProps, mapDispatchToProps)(Notes)\r\n\r\nexport default NotesContainer;","import React from \"react\";\r\nimport s from './User.module.css'\r\nimport userPhoto from '../../assets/images/user.png';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\n\r\nlet User = ({ user, followingInProgress, unfollow, follow}) => {\r\n\treturn  (\r\n\t\t<div>\r\n\t\t\t<div className={s.user__wrapper}>\r\n\t\t\t\t<div className={s.user__leftBlock}>\r\n\t\t\t\t\t<div className={s.user__foto}>\r\n\t\t\t\t\t\t<NavLink to={`profile/${user.id}`}>\r\n\t\t\t\t\t\t\t<img src={user.photos.small ? user.photos.small : userPhoto} alt=\"photo_user\" />\r\n\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className={s.user__button}>\r\n\t\t\t\t\t\t{user.followed\r\n\t\t\t\t\t\t\t? <button disabled={followingInProgress} onClick={() => {\r\n\t\t\t\t\t\t\t\tunfollow(user.id);\r\n\t\t\t\t\t\t\t}}>Unfollow</button>\r\n\t\t\t\t\t\t\t: <button disabled={followingInProgress} onClick={() => {\r\n\t\t\t\t\t\t\t\tfollow(user.id);\r\n\t\t\t\t\t\t\t}}>Follow</button>}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={s.user__rightBlock}>\r\n\t\t\t\t\t<div className={s.user__name}>{user.name}</div>\r\n\t\t\t\t\t<div className={s.user__status}>\r\n\t\t\t\t\t\t{user.status}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className={s.user__location}>\r\n\t\t\t\t\t\t<div className={s.user__locationCity}>\r\n\t\t\t\t\t\t\t{'user.location.city'}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className={s.user__locationCountry}>\r\n\t\t\t\t\t\t\t{'user.location.country'}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\nexport default User;","export default \"data:image/png;base64,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\"","import { Pagination } from \"antd\";\r\nimport React from \"react\";\r\nimport Paginator from \"../common/paginator/Paginator\";\r\nimport User from \"./User\";\r\n\r\n\r\nlet Users = ({ totalUserCount, pageSize, currentPage, onPageChanged, setPageSize, ...props }) => {\r\n\tfunction onChange(pageNumber) {\r\n\t\tonPageChanged(pageNumber)\r\n\t}\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{/* <Paginator totalUserCount={totalUserCount} pageSize={pageSize} currentPage={currentPage} onPageChanged={onPageChanged} /> */}\r\n\t\t\t<Pagination showQuickJumper defaultCurrent={1} total={totalUserCount} defaultPageSize={pageSize} onChange={onChange} onShowSizeChange={props.onPageSizeChange}/>\r\n\t\t\t{\r\n\t\t\t\tprops.users.map((u) => <User\r\n\t\t\t\t\tuser={u}\r\n\t\t\t\t\tfollowingInProgress={props.followingInProgress}\r\n\t\t\t\t\tkey={u.id}\r\n\t\t\t\t\tunfollow={props.unfollow}\r\n\t\t\t\t\tfollow={props.follow}\r\n\t\t\t\t/>)\r\n\t\t\t}\r\n\t\t</div>\r\n\t)\r\n}\r\nexport default Users;\r\n","export default __webpack_public_path__ + \"static/media/Circle-Loading.385f97b7.svg\";","import React from \"react\";\r\nimport preloader from '../../../assets/images/Circle-Loading.svg'\r\nimport s from './Preloader.module.css'\r\n\r\nlet Preloader = (props) => {\r\n\treturn <div className={s.wpapperGif}>\r\n\t\t<img src={preloader} />\r\n\t</div>\r\n}\r\nexport default Preloader","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nlet mapStateToProps = (state) => ({\r\n\tisAuth: state.auth.isAuth\r\n})\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n\tclass RedirectComponent extends React.Component {\r\n\t\trender () {\r\n\t\t\tif (!this.props.isAuth) return <Redirect to={\"login\"} />\r\n\t\t\treturn <Component {...this.props} />\r\n\t\t}\r\n\t}\r\n\tlet ConnectedAuthRedirectComponent = connect(mapStateToProps)(RedirectComponent)\r\n\treturn ConnectedAuthRedirectComponent;\r\n}\r\n","import { createSelector } from \"reselect\";\r\n\r\nexport const getUsers = (state) => {\r\n\treturn state.usersPage.users;\r\n}\r\n\r\nexport const getUsersSuper = createSelector(getUsers, (users) => {\r\n\treturn users.filter(u => true);\r\n});\r\n\r\nexport const getPageSize = (state) => {\r\n\treturn state.usersPage.pageSize;\r\n}\r\n\r\nexport const getTotalUserCount = (state) => {\r\n\treturn state.usersPage.totalUserCount;\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n\treturn state.usersPage.currentPage;\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n\treturn state.usersPage.isFetching;\r\n}\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n\treturn state.usersPage.followingInProgress;\r\n}","import Users from \"./Users\";\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { follow, setCurrentPage, unfollow, toggleFollowingProgress, getUsersThunkCreator, getUsersOnPagechangedThunkCreator, setPageSize, getUsersOnPageSize } from \"../../redux/usersReducer\";\r\nimport Preloader from '../common/Preloader/Preloader';\r\nimport { withAuthRedirect } from \"../../HOC/withAuthRedirect\";\r\nimport { compose } from \"redux\";\r\nimport { getCurrentPage, getFollowingInProgress, getIsFetching, getPageSize, getTotalUserCount, getUsersSuper } from \"../../redux/users-selectors\";\r\n\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.props.getUsers(this.props.currentPage, this.props.pageSize)\r\n\t}\r\n\r\n\tonPageChanged = (pageNumber) => {\r\n\t\tthis.props.getUsersOnPagechangedThunkCreator(pageNumber, this.props.pageSize)\r\n\t\t\r\n\t}\r\n\r\n\tonPageSizeChange = (current, size) => {\r\n\t\tthis.props.getUsersOnPageSize(this.props.currentPage, size)\r\n}\r\n\r\n\trender() {\r\n\t\treturn <>\r\n\t\t\t{this.props.isFetching ? <Preloader /> : null}\r\n\t\t\t<Users\r\n\t\t\t\ttotalUserCount={this.props.totalUserCount}\r\n\t\t\t\tpageSize={this.props.pageSize}\r\n\t\t\t\tcurrentPage={this.props.currentPage}\r\n\t\t\t\tonPageChanged={this.onPageChanged}\r\n\t\t\t\tusers={this.props.users}\r\n\t\t\t\tfollow={this.props.follow}\r\n\t\t\t\tunfollow={this.props.unfollow}\r\n\t\t\t\tfollowingInProgress={this.props.followingInProgress}\r\n\t\t\t\tonPageSizeChange={this.onPageSizeChange}\r\n\t\t\t/>\r\n\t\t</>\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn ({\r\n\t\tusers: getUsersSuper(state),// Super в назв просто для примера\r\n\t\tpageSize: getPageSize(state),\r\n\t\ttotalUserCount: getTotalUserCount(state),\r\n\t\tcurrentPage: getCurrentPage(state),\r\n\t\tisFetching: getIsFetching(state),\r\n\t\tfollowingInProgress: getFollowingInProgress(state)\r\n\t})\r\n}\r\n\r\nexport default compose(\r\n\tconnect(mapStateToProps, {\r\n\t\tfollow,\r\n\t\tunfollow,\r\n\t\tsetCurrentPage,\r\n\t\ttoggleFollowingProgress,\r\n\t\tgetUsers: getUsersThunkCreator,\r\n\t\tgetUsersOnPagechangedThunkCreator,\r\n\t\tsetPageSize,\r\n\t\tgetUsersOnPageSize\r\n\t}),\r\n\t\t//withAuthRedirect\r\n)(UsersContainer)\r\n\r\n\r\n//let AuthRedirectComponent = withAuthRedirect(UsersContainer)// это наш контейнерный компонет HOC\r\n/* export default connect(mapStateToProps, {\r\n\tfollow,\r\n\tunfollow,\r\n\tsetCurrentPage,\r\n\ttoggleFollowingProgress,\r\n\tgetUsers: getUsersThunkCreator,\r\n\tgetUsersOnPagechangedThunkCreator\r\n})(AuthRedirectComponent) */\r\n\r\n/* this.props.toggleIsFetching(true);\r\n\t\tusersAPI.getUsers(this.props.currentPage, this.props.pageSize).then(data => {\r\n\t\t\tthis.props.setUsers(data.items)\r\n\t\t\tthis.props.setCountAllUsers(data.totalCount)\r\n\t\t\tthis.props.toggleIsFetching(false);\r\n\t\t}) */\r\n\r\n/* this.props.setCurrentPage(pageNumber);\r\nthis.props.toggleIsFetching(true);\r\nusersAPI.getUsers(pageNumber, this.props.pageSize).then(data => {\r\nthis.props.setUsers(data.items);\r\n\tthis.props.toggleIsFetching(false);\r\n}) */\r\n\r\n/*const mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tfollow: (userID) => {\r\n\t\t\tdispatch(followAC(userID))\r\n\t\t},\r\n\t\tunfollow: (userID) => {\r\n\t\t\tdispatch(unfollowAC(userID))\r\n\t\t},\r\n\t\tsetUsers: (user) => {\r\n\t\t\tdispatch(setUsersAC(user))\r\n\t\t},\r\n\t\tsetCurrentPage: (currentPage) => {\r\n\t\t\tdispatch(setCurrentPageAC(currentPage))\r\n\t\t},\r\n\t\tsetCountAllUsers: (countAllUsers) => {\r\n\t\t\tdispatch(setCountAllUsersAC(countAllUsers))\r\n\t\t},\r\n\t\ttoggleIsFetching: (isFetching) => {\r\n\t\t\tdispatch(toggleIsFetchingAC(isFetching))\r\n\t\t}\r\n\t\t\r\n\t}\r\n}\r\n*/","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { compose } from \"redux\";\r\nimport { getStatusThuncCreator, updateTextStatusThuncCreator } from \"../../../redux/profileReducer\";\r\nimport s from './ProfileInfo.module.css';\r\n\r\nclass ProfileStatus extends React.Component {\r\n\tstate = {\r\n\t\teditMode: false,\r\n\t\tstatus: this.props.statusText//берет из state\r\n\t}\r\n\tcomponentDidUpdate(prevProps, prevState) {\r\n\t\tif (prevProps.statusText !== this.props.statusText) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tstatus: this.props.statusText\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\t\r\n\tactivateEditMode = () => {\r\n\t\tthis.setState({\r\n\t\t\teditMode: true\r\n\t\t})\r\n\t}\r\n\r\n\tdeactivateEditMode = () => {\r\n\t\tthis.setState({\r\n\t\t\teditMode: false\r\n\t\t});\r\n\t\tthis.props.updateTextStatusThuncCreator(this.state.status);\r\n\t}\r\n\r\n\tonStatusChange = (e) => {\r\n\t\tthis.setState({\r\n\t\t\tstatus: e.currentTarget.value\r\n\t\t})\r\n\t}\r\n\trender () {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t{!this.state.editMode && \r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<span onClick={this.activateEditMode}>{this.props.statusText}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\t{this.state.editMode &&\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<input onChange={this.onStatusChange} autoFocus={true} onBlur={this.deactivateEditMode} value={this.state.status} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn ({\r\n\t\tstatusText: state.profilePage.newStatusText,\r\n\t})\r\n}\r\n\r\nexport default compose(\r\n\tconnect(mapStateToProps, {updateTextStatusThuncCreator } ),\r\n\r\n)(ProfileStatus);","import React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { compose } from \"redux\";\r\nimport { getStatusThuncCreator, updateTextStatusThuncCreator } from \"../../../redux/profileReducer\";\r\nimport s from './ProfileInfo.module.css';\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n\tlet [editMode, setEditMode] = useState(false);\r\n\tlet [status, setStatus] = useState(props.statusText);\r\n\tuseEffect(() => {\r\n\t\tsetStatus(props.statusText)\r\n\t}, [props.statusText]);\r\n\r\n\tconst activateEditMode = () => {\r\n\t\tsetEditMode(true)\r\n\t}\r\n\r\n\tconst deactivateEditMode = () => {\r\n\t\tsetEditMode(false)\r\n\t\tprops.updateTextStatusThuncCreator(status);\r\n\t}\r\n\r\n\tconst onStatusChange = (e) => {\r\n\t\tsetStatus(e.currentTarget.value);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{!editMode &&\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<span onClick={activateEditMode}>{props.statusText}</span>\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t\t{editMode &&\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<input onChange={onStatusChange} autoFocus={true} onBlur={deactivateEditMode} value={status} />\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn ({\r\n\t\tstatusText: state.profilePage.newStatusText,\r\n\t})\r\n}\r\n\r\nexport default compose(\r\n\tconnect(mapStateToProps, { updateTextStatusThuncCreator }),\r\n\r\n)(ProfileStatusWithHooks);\r\n","import Preloader from '../../common/Preloader/Preloader';\r\nimport s from './ProfileInfo.module.css';\r\nimport ProfileStatus from './ProfileStatus';\r\nimport * as axios from 'axios';\r\nimport ProfileStatusWithHoocs from './ProfileStatusWithHoocs';\r\n\r\nconst ProfileInfo = (props) => {\r\n\tif (!props.profile) {\r\n\t\treturn <Preloader />\r\n\t}\r\n\r\n\tconst onMainPhotoSelected = (e) => {\r\n\t\tif (e.target.files.length) {\r\n\t\t\tsavePhoto(e.target.files[0]);\r\n\t\t}\r\n\t}\r\n\tlet savePhoto = (photoFile) => {\r\n\t\tconst formData = new FormData();\r\n\t\tformData.append('image', photoFile)\r\n\t\taxios.put(`profile/photo`, formData, {\r\n\t\t\twithCredentials: true,\r\n\t\t\tbaseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n\t\t\theaders: {\r\n\t\t\t\t\"API-KEY\": \"70e8e5ed-ff03-4d7b-b77d-74a34aff6348\"\r\n\t\t\t},\r\n\t\t\t'Content-Type': 'multipart/form-data'\r\n\t\t})\r\n\t} \r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{/* <div className={s.image}>\r\n\t\t\t\t<img src=\"https://static.dw.com/image/18813153_303.jpg\" alt=\"\" />\r\n\t\t\t</div> */}\r\n\t\t\t<div className={s.discriptionBlock}>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<img src={props.profile.photos.large} alt=\"avatar\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<input type=\"file\" onChange={onMainPhotoSelected} />\r\n\t\t\t\t<ProfileStatusWithHoocs />\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<h1>{props.profile.fullName}</h1>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<h2>About me:</h2>\r\n\t\t\t\t\t<p>{props.profile.aboutMe}</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<h2>Contacts:</h2>\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t<li>{props.profile.contacts.facebook}</li>\r\n\t\t\t\t\t\t<li>{props.profile.contacts.website}</li>\r\n\t\t\t\t\t\t<li>{props.profile.contacts.vk}</li>\r\n\t\t\t\t\t\t<li>{props.profile.contacts.twitter}</li>\r\n\t\t\t\t\t\t<li>{props.profile.contacts.instagram}</li>\r\n\t\t\t\t\t\t<li>{props.profile.contacts.youtube}</li>\r\n\t\t\t\t\t\t<li>{props.profile.contacts.github}</li>\r\n\t\t\t\t\t\t<li>{props.profile.contacts.mainLink}</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<h2>Looking for a job?</h2>\r\n\t\t\t\t\t<p>{props.profile.lookingForAJob ? 'yes' : 'no'}</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\nexport default ProfileInfo;\r\n","import React from \"react\";\r\nimport s from './Post.module.css';\r\nconst Post = (props) => {\r\n\r\n\treturn (\r\n\t<div className={s.item}>\r\n\t\t<img src=\"https://yt3.ggpht.com/ytc/AKedOLQ6xaEG8GLRO1JWBwMuGk_0kqX26eKrotXaqad76g=s900-c-k-c0x00ffffff-no-rj\" alt=\"\" />\r\n\t\t{ props.message}\r\n\t\t<div>\r\n\t\t\t\t<span>like</span> {props.likesCount}\r\n\t\t</div>\r\n\t</div>\r\n\t)\r\n}\r\nexport default Post;","import s from './MyPosts.module.css';\r\nimport Post from './Post/Post';\r\nimport React, { memo } from 'react';\r\nimport { useForm } from \"react-hook-form\";\r\n\r\n\r\nconst MyPosts = React.memo(props => {\r\n\tconsole.log('RENDER')\r\n\tlet postsElement = props.posts.map(p => <Post message={p.message} key={p.id} likesCount={p.likesCount} />)\r\n\r\n\treturn (\r\n\t\t<div className={s.postsBlock}>\r\n\t\t\t<div>\r\n\t\t\t\t<h3>\r\n\t\t\t\t\tMy posts\r\n\t\t\t\t</h3>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<AddPostForm {...props} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={s.messageBlock}>\r\n\t\t\t\t\t{postsElement}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n})\r\n\r\nconst AddPostForm = (props) => {\r\n\tconst { register, handleSubmit, reset, formState: { errors } } = useForm({mode: 'onBlur'});\r\n\tconst onSubmit = data => {\r\n\t\tprops.addPost(data.post)\r\n\t\treset();\r\n\t}\r\n\treturn (\r\n\t\t<form onSubmit={handleSubmit(onSubmit)}>\r\n\t\t\t<div className={s.formBlock}>\r\n\t\t\t\t<textarea className={errors?.post && s.error} {...register(\"post\", {\r\n\t\t\t\t\trequired: 'Field is requared',\r\n\t\t\t\t\tmaxLength: {\r\n\t\t\t\t\t\tvalue: 30,\r\n\t\t\t\t\t\tmessage: 'Max length is 30 symbols'}\r\n\t\t\t\t})} />\r\n\t\t\t</div>\r\n\t\t\t<div style={{color: 'red'}}>\r\n\t\t\t\t{errors?.post && <p>{errors?.post?.message || \"Error!\"}</p>}\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<input type=\"submit\" value=\"Add post\" />\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t)\r\n}\r\n\r\nexport default MyPosts;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { addPost} from '../../../redux/profileReducer';\r\nimport MyPosts from './MyPosts';\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tposts: state.profilePage.posts,\r\n\t\tnewPostText: state.profilePage.newPostText\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\taddPost: (post) => {\r\n\t\t\tdispatch(addPost(post));\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts)\r\n\r\nexport default MyPostsContainer;","import React from \"react\";\r\nimport s from './Profile.module.css';\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo';\r\nimport MyPostsContainer from './MyPosts/MyPostsContainer';\r\n\r\n\r\n\r\nconst Profile = (props) => {\r\n\treturn (\r\n\t\t<div className={s.pad}>\r\n\t\t\t<ProfileInfo profile={props.profile} />\r\n\t\t\t<MyPostsContainer />\r\n\t\t</div>\r\n\t)\r\n}\r\nexport default Profile;","import React from \"react\";\r\nimport Profile from \"./Profile\";\r\nimport { connect } from \"react-redux\";\r\nimport { getStatusThuncCreator, getUserProfileThunkCreator, setUserProfile } from \"../../redux/profileReducer\";\r\nimport { withRouter } from \"react-router-dom/cjs/react-router-dom.min\";\r\nimport { withAuthRedirect } from \"../../HOC/withAuthRedirect\";\r\nimport { compose } from \"redux\";\r\n\r\n\r\n\r\nclass ProfileContainer extends React.Component {\r\n\tcomponentDidMount() {\r\n\tlet userId = this.props.match.params.userId;\r\n\t\tif (!userId) {\r\n\t\t\tuserId = this.props.userId;\r\n\t\t} \r\n\t\tthis.props.getUserProfileThunkCreator(userId)\r\n\t\tthis.props.getStatusThuncCreator(userId)\r\n\t\t\r\n\t}\r\n\trender () {\r\n\t\treturn (\r\n\t\t\t<Profile {...this.props} profile={this.props.profile}/>\r\n\t\t)\r\n\t}\r\n}\r\n\r\n//let AuthRedirectComponent = withAuthRedirect(ProfileContainer)// это наш контейнерный компонет его рисует ithUrlDataContainerComponent, а он рисует ProfileContainer \r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn ({\r\n\t\tprofile: state.profilePage.profile,\r\n\t\tuserId: state.auth.id,\r\n\t\tisAuth: state.auth.IsAuth\r\n\t})\r\n}\r\n\r\n//let WithUrlDataContainerComponent = withRouter(AuthRedirectComponent)\r\n\r\n//export default connect(mapStateToProps, { setUserProfile, getUserProfileThunkCreator })(WithUrlDataContainerComponent);\r\n\r\nexport default compose(\r\n\tconnect(mapStateToProps, { setUserProfile, getUserProfileThunkCreator, getStatusThuncCreator }),\r\n\twithRouter,\r\n\twithAuthRedirect,\r\n)(ProfileContainer)","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport s from './Header.module.css';\r\nimport { Button, Space } from 'antd';\r\nimport { PoweroffOutlined } from '@ant-design/icons';\r\n\r\n\r\nconst Header = (props) => {\r\n\treturn (\r\n\t\t<header className={s.header}>\r\n\t\t\t<div>\r\n\t\t\t\t<img src=\"https://images.theconversation.com/files/93616/original/image-20150902-6700-t2axrz.jpg?ixlib=rb-1.1.0&q=45&auto=format&w=1000&fit=clip\" alt=\"\" />\r\n\t\t\t</div>\r\n\t\t\t<div className={s.login__block}>\r\n\t\t\t\t{props.isAuth \r\n\t\t\t\t\t? <div>\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t{`${props.login} `}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\ticon={<PoweroffOutlined />}\r\n\t\t\t\t\t\t\t\tonClick={() => {props.logout()}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t: <NavLink to={'/login'}>Login</NavLink>}\r\n\t\t\t</div>\r\n\t\t</header>\r\n\t)\r\n}\r\n\r\nexport default Header;","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport { connect } from \"react-redux\";\r\nimport { logout } from \"../../redux/auth-reducer\"; \r\n\r\n\r\nclass HeaderContainer extends React.Component {\r\n\trender() {\r\n\t\treturn <Header {...this.props} />\r\n\t}\r\n}\r\nconst mapStateToProps = (state) => ({\r\n\tisAuth: state.auth.isAuth,\r\n\tlogin: state.auth.login\r\n})\r\n\r\nexport default connect(mapStateToProps, { logout })(HeaderContainer);","import React from \"react\";\r\nimport { useForm, Controller } from \"react-hook-form\";\r\nimport s from './Login.module.css';\r\nimport { Form, Input, Button, Checkbox } from 'antd';\r\nimport { connect } from \"react-redux\";\r\nimport { loginTC } from \"../../redux/auth-reducer\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nconst Loginform = ({ isWrong, onSubmitCall}) => {\r\n\tconst { control, register, handleSubmit, reset, formState: { errors } } = useForm();\r\n\tconst onSubmit = (formData) => {\r\n\t\tonSubmitCall(formData);\r\n\t\treset();\r\n\t}\r\n\treturn (\r\n\t\t<div className={s.formBlock}>\r\n\t\t\t<form onSubmit={handleSubmit(onSubmit)}>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{isWrong && <p>login/password incorrect</p>}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Controller\r\n\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\tcontrol={control}\r\n\t\t\t\t\t\trules={{ required: 'First name required' }}\r\n\t\t\t\t\t\trender={({ field: { onChange, value } }) => (\r\n\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\tvalue={value}\r\n\t\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\t\tplaceholder=\"login\"\r\n\t\t\t\t\t\t\t\tclassName={(errors?.email || isWrong) && s.error}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Controller\r\n\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\tcontrol={control}\r\n\t\t\t\t\t\trules={{ required: true }}\r\n\t\t\t\t\t\trender={({ field: { onChange, value } }) => (\r\n\t\t\t\t\t\t\t<Input.Password\r\n\t\t\t\t\t\t\t\tvalue={value}\r\n\t\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\t\tplaceholder=\"password\"\r\n\t\t\t\t\t\t\t\tclassName={(errors?.password || isWrong) && s.error}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Controller\r\n\t\t\t\t\t\tdefaultValue=\"false\"\r\n\t\t\t\t\t\tname=\"rememberMe\"\r\n\t\t\t\t\t\tcontrol={control}\r\n\t\t\t\t\t\trender={({ field: { onChange, value } }) => (\r\n\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\tvalue={value}\r\n\t\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\t>Remember me</Checkbox>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\" onSubmit={handleSubmit(onSubmit)}>\r\n\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\n\r\n\r\nconst Login = (props) => {\r\n\tconst onSubmitCall = formData => {\r\n\t\tprops.loginTC(formData.email, formData.password, formData.rememberMe);\r\n\t}\r\n\tif (props.isAuth) {\r\n\t\treturn <Redirect to={\"/profile\"} />\r\n\t}\r\n\treturn <div>\r\n\t\t<h1 className={s.title}>Login</h1>\r\n\t\t<Loginform isWrong={props.isWrong} onSubmitCall={onSubmitCall} />\r\n\t</div>\r\n}\r\nconst mapStateToProps= (state) => ({\r\n\tisAuth: state.auth.isAuth,\r\n\tisWrong: state.auth.isWrong\r\n})\r\nexport default connect(mapStateToProps, { loginTC}) (Login);\r\n\r\n","import React from \"react\";\r\nimport { NavLink } from 'react-router-dom';\r\nimport s from './DialogItem.module.css';\r\n\r\nconst DialogItem = (props) => {\r\n\treturn(\r\n\t\t<div className={s.nameChat}>\r\n\t\t\t<NavLink to={\"/dialogs/\" + props.id}><img src=\"https://yt3.ggpht.com/ytc/AKedOLQ6xaEG8GLRO1JWBwMuGk_0kqX26eKrotXaqad76g=s900-c-k-c0x00ffffff-no-rj\" alt=\"\" />{props.name}</NavLink>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default DialogItem","import s from './Message.module.css';\r\n\r\nconst Message = (props) => {\r\n\treturn (\r\n\t\t<div className={s.message}>{props.message}</div>\r\n\t)\r\n}\r\n\r\nexport default Message;","import DialogItem from './DialogItem/DialogItem';\r\nimport s from './Dialogs.module.css';\r\nimport Message from './Message/Message';\r\nimport React from 'react';\r\nimport { useForm } from \"react-hook-form\";\r\n\r\n\r\n\r\nconst Dialogs = (props) => {\r\n\tlet dialogsElements = props.dialogs.map((d) => <DialogItem id={d.id} key={d.id} name={d.name} />)\r\n\tlet messagesElements = props.messages.map((m) => <Message message={m.message} key={m.id} />)\r\n\r\n\treturn (\r\n\t\t<div className={s.dialogs}>\r\n\t\t\t<div className={s.dialogs__item}>\r\n\t\t\t\t{dialogsElements}\t\r\n\t\t\t</div>\r\n\t\t\t<div className={s.messages}>\r\n\t\t\t\t{messagesElements}\r\n\t\t\t</div>\r\n\t\t\t<div className={s.dialogInput}>\r\n\t\t\t\t<AddMessageForm {...props} />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\n\r\nconst AddMessageForm = (props) => {\r\n\tconst { register, handleSubmit, reset, formState: { errors } } = useForm();\r\n\tconst onSubmit = data => {\r\n\t\tprops.addMessage(data.message);\r\n\t\treset();\r\n\t}\r\n\treturn (\r\n\t\t<form onSubmit={handleSubmit(onSubmit)}>\r\n\t\t\t\t<textarea  {...register(\"message\")} />\r\n\t\t\t<input type=\"submit\" value=\"send\" />\r\n\t\t</form>\r\n\t)\r\n}\r\n\r\nexport default Dialogs;","import { NavLink, Redirect } from 'react-router-dom';\r\nimport DialogItem from './DialogItem/DialogItem';\r\nimport Message from './Message/Message';\r\nimport React from 'react';\r\nimport { addMessageActionCreator } from '../../redux/dialogsReducer';\r\nimport Dialogs from './Dialogs';\r\nimport { connect } from 'react-redux';\r\nimport { withAuthRedirect } from '../../HOC/withAuthRedirect';\r\nimport { compose } from 'redux';\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tdialogs: state.dialogsPage.dialogs,\r\n\t\tmessages: state.dialogsPage.messages,\r\n\t\tisAuth: state.auth.isAuth\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\taddMessage: (message) => {\r\n\t\t\tdispatch(addMessageActionCreator(message));\r\n\t\t}\r\n\t}\r\n}\r\n\r\n//let AuthRedirectComponent = withAuthRedirect(Dialogs)// это наш контейнерный компонет его рисует ithUrlDataContainerComponent, а он рисует ProfileContainer \r\n\r\n//const DialogsContainer = connect(mapStateToProps, mapDispatchToProps)(AuthRedirectComponent)\r\n\r\n\r\nexport default compose (\r\n\tconnect(mapStateToProps, mapDispatchToProps),\r\n\twithAuthRedirect,\r\n) (Dialogs);","import React, { Suspense } from \"react\";\r\nimport \"antd/dist/antd.css\";\r\nimport './App.css';\r\nimport Navbar from './components/Navbar/Navbar';\r\nimport Settings from './components/Settings/Settings';\r\nimport News from './components/News/News';\r\nimport Music from './components/Music/Music';\r\nimport NotesContainer from './components/Notes/NotesContainer';\r\nimport UsersContainer from './components/Users/UsersContainer';\r\nimport ProfileContainer from './components/Profile/ProfileContainer';\r\nimport { Route } from 'react-router-dom';\r\nimport HeaderContainer from './components/Header/HeaderContainer';\r\nimport LoginPage from './components/Login/Login';\r\nimport { connect } from \"react-redux\";\r\nimport { initializeApp } from \"./redux/appReducer\";\r\nimport Preloader from \"./components/common/Preloader/Preloader\";\r\nimport { compose } from \"redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport DialogsContainer from './components/Dialogs/DialogsContainer';\r\nimport { withSuspense } from \"./HOC/withSuspense\";\r\n//const DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\r\n\r\n\r\n\r\nclass App extends React.Component {\r\n  componentDidMount() {\r\n    this.props.initializeApp();\r\n  }\r\n  render() {\r\n    if (!this.props.initialized) {\r\n      return (<Preloader />)\r\n    }\r\n    return (\r\n        <div className=\"app-wrapper\">\r\n          <HeaderContainer />\r\n          <Navbar />\r\n          <div className='app-wrapper-content'>\r\n          <Route path=\"/dialogs\" render={ withSuspense(DialogsContainer) } />{/* Обернули HOC */} \r\n            <Route path=\"/profile/:userId?\" render={() => <ProfileContainer />} />\r\n            <Route path=\"/news\" render={() => <News />} />\r\n            <Route path=\"/music\" render={() => <Music />} />\r\n            <Route path=\"/notes\" render={() => <NotesContainer />} />\r\n            <Route path=\"/users\" render={() => <UsersContainer />} />\r\n            <Route path=\"/settings\" render={() => <Settings />} />\r\n            <Route path=\"/login\" render={() => <LoginPage />} />\r\n          </div>\r\n        </div>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = (state) => ({\r\n  initialized: state.app.initialized\r\n\r\n})\r\nexport default compose(\r\n  withRouter,\r\n  connect(mapStateToProps, { initializeApp }))(App);","import React, { Suspense } from \"react\";\r\n\r\nexport const withSuspense = (Component) => {\r\n\r\n\treturn (props) => {\r\n\t\treturn <Suspense fallback={<div>Загрузка...</div>}>\r\n\t\t\t<Component {...props} />\r\n\t\t</Suspense>\r\n\t}\r\n}\r\n","import reportWebVitals from './reportWebVitals';\nimport store from './redux/redux-store';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom';\n\n\n\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<BrowserRouter>\n\t\t\t<Provider store={store}>\n\t\t\t\t<App />\n\t\t\t</Provider>\n\t\t</BrowserRouter>\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n\n/*rerenderEntireTree(store.getState());\nstore.subscribe(rerenderEntireTree);\nstore redux не умеет передавть стор, поэтому мы через анонимную функцию это сделаем*/\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user__wrapper\":\"User_user__wrapper__1vcrP\",\"user__leftBlock\":\"User_user__leftBlock__3iQbI\",\"user__rightBlock\":\"User_user__rightBlock__1qDl1\",\"user__foto\":\"User_user__foto__13quP\",\"user__button\":\"User_user__button__3pLcR\",\"user__name\":\"User_user__name__3b3rv\",\"user__location\":\"User_user__location__30MDn\",\"user__locationCity\":\"User_user__locationCity__2Lbz5\",\"user__locationCountry\":\"User_user__locationCountry__Nk4IE\",\"user__status\":\"User_user__status__2dS5k\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__1pM_z\",\"item\":\"Navbar_item__1ismi\",\"activeLink\":\"Navbar_activeLink__27L8N\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"notes__wrapper\":\"Notes_notes__wrapper__JihYO\",\"notes__title\":\"Notes_notes__title__2EFCQ\",\"notes__visualBlock\":\"Notes_notes__visualBlock__2RSOb\",\"notes__sendBlock\":\"Notes_notes__sendBlock__1c81h\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__hZDAG\",\"messageBlock\":\"MyPosts_messageBlock__WsGmt\",\"error\":\"MyPosts_error__2l0HC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formBlock\":\"Login_formBlock__3ddug\",\"title\":\"Login_title__lau2c\",\"error\":\"Login_error__1sfQt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__1pvPu\",\"dialogs__item\":\"Dialogs_dialogs__item__1h8Mb\",\"dialog\":\"Dialogs_dialog__3X4PV\",\"active\":\"Dialogs_active__32DQC\",\"messages\":\"Dialogs_messages__2oy_z\",\"dialogInput\":\"Dialogs_dialogInput__3x-dx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"image\":\"ProfileInfo_image__UbiZa\",\"discriptionBlock\":\"ProfileInfo_discriptionBlock__2Zfws\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"FriendsBlock_title__15gTh\",\"blockFriends\":\"FriendsBlock_blockFriends__16l4X\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"count__wrapper\":\"Paginator_count__wrapper__37n73\",\"bold\":\"Paginator_bold__3b_Ip\",\"pageNumber\":\"Paginator_pageNumber__1zEB-\"};"],"sourceRoot":""}